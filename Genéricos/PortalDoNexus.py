# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":308,"y":-50,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"21iM0R55J_pz:_ve0;W$","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj"}},"next":{"block":{"type":"variables_set_motor","id":"=v`ioZ;FMo0x._-J+a:o","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"-h@{AUwaqm,BT40q@bAV","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"NP`W{@,j_P[{7p.swiUc","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"HC3U#iXm2cZkBjB;t$o;","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"sR7qqdk}erYQjd4W[E5b","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"|uA3mbL;vyb3L9@?Pits","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"a6QFn3m6#Hy#x$CO8Zpr","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"t+^r{`2HT?28A+eaExN,","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa","name":"motor left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"9P+gwv@B8ySuK3Fe)*d%","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX","name":"motor right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"gH`F/51I}VQG9R2NR30m","fields":{"VALUE0":55}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"CaA{}9mmJvkhb/ED0L,K","fields":{"VALUE0":177}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"ryYB%!]|1;Rg9+:n`72=","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"o^CVWO0s%(A{GtbZ*@zX"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"oyBT4v?7,QahCe30XBD[","fields":{"NAME":"C"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"qI|R]BLDqQ,#{B(8P%1)","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"oA5)c156:zH@0p1TVPuh"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Iw=kgJ(jY_9t2kn|!`L$","fields":{"NAME":"D"}}}},"next":{"block":{"type":"variables_set_ultrasonic_sensor","id":"-2DM=PKln)Ni}w03R75_","fields":{"VAR":{"id":"CZTgRtBvw*/B}$=#%?kI"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Wk`?F7}FNZ92uLwm{}-a","fields":{"NAME":"E"}}}},"next":{"block":{"type":"variables_set_motor","id":"A:{Vqd6A28S.A7;Q@RSi","fields":{"VAR":{"id":",Gt^96XMm)3(#,Kv=JJQ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"=~[xKRqD+:bl3cBn/+6=","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"Zhr-W_+X9joMin{VM,-P","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_any","id":"Bek9jCHu_f7Kx#,=od(R","fields":{"VAR":{"id":"5h%TK:ba]B3]%:C36KR/"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"S;OQPRGp/eXw6)Su|+q*","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"y-LA+`aLDoRdz1{/-AO!","fields":{"VAR":{"id":"VxzB=2jHv5^x1=s3{K=S"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*L@2aOh/`dH$1u00XG=`","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"J]w#h0p6o2IrT$Q8gX71","fields":{"VAR":{"id":"La4}nGUK__|[$k(G=jWp"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":":/:a42H?;Ka[Y[``QT2e","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"n%CFKpCc9@AZ(zO%)`}M","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=(;VLTU6J3VV4Va@C}05","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"=]5cai-*/WSbaku;gnIK","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"B1tP@c6B*H?9d*ND#/uo","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"s]d=Jca|hidnY:75BXqr","fields":{"VAR":{"id":"uKc/o~^Q7SsGeIGS^@Kg"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"}AoqQpvmG)1WbpJ;t?DH","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"r~rQauKS%147bn_^7Q(@","fields":{"VAR":{"id":"^^Y$_($@f/ELg],cC?So"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"DDaiBtV]1)IOYi?L5bMr","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"/dJKDKpAENI`h`^sk7DQ","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"^Xs*=],qqrJ:OSCFL-=c","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"tL%Baf!u}ch(}-fZ?ir}","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"EvOJFr2uw~(,``SnqIvy","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"#oM3Kzb}AmR#QU-$iQHM","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"R~kZpSK`En/-m)CSg@?M","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set_stopwatch","id":"`Uj%#__2}vDh`etW)%Dj","fields":{"VAR":{"id":"KiucSgYz4|YrG9Iw;i2i"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-344,"y":817,"deletable":false,"next":{"block":{"type":"blockFunctionCallerStatement","id":"yp!4ew*5r#TsDs}(izPV","extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"cPea{rkCV^#^LFb3~0eT"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"RM#tKyH%^2g%v_dW~VgY","fields":{"NUM":4.6}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"TZRsDyyHYj$2%$P4td|[","fields":{"NUM":0.028}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"Vhlbx?!70w8bU7eL62c3","fields":{"NUM":0.0001}}}}}}},{"type":"variables_setup_function","id":"-+oN,FtXfi}U|NdQs+R%","x":1385,"y":222,"extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"cPea{rkCV^#^LFb3~0eT"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"AJaftgN;rn*a2bmD#PH^","fields":{"VAR":{"id":"j+,ixw,dt|)SWK@K(Ds]","name":"P","type":"FunctionArgument"}}}},"ARG1":{"shadow":{"type":"variables_setup_function_argument","id":"uqB+lPmR%Beub}-?)9i)","fields":{"VAR":{"id":"XkNv*}y6-^}%j:,@SMMH","name":"1","type":"FunctionArgument"}}}},"ARG2":{"shadow":{"type":"variables_setup_function_argument","id":"0/xv0*b4O*/~|tW(Uvju","fields":{"VAR":{"id":"-XSYBOb.tay_M8L3H41C","name":"D","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockComment","id":"dQ^,H63@@eQaWbl=K#0=","fields":{"FIELDNAME":"Descrição:\nEste script implementa um seguidor de linha utilizando o LEGO Spike Prime e a biblioteca Pybricks. \nO robô segue uma linha preta em um fundo branco utilizando dois sensores de luz para leitura \ndo contraste e um controlador PID para ajustes dinâmicos na direção.\n\nBlocos Autorais Utilizados:\n- PID: Controla o desvio da linha para manter o robô no trajeto ideal.\n\nConfiguração de Hardware:\n- Sensores de luz: Colocados na parte frontal do robô, um à esquerda e outro à direita.\n- Motores: Dois motores de tração para movimentação do robô.\n- Base: Configurada com dois pontos de apoio principais, garantindo estabilidade.\n\nParâmetros do PID:\n- Kp: Constante proporcional que controla a intensidade de correção com base no erro atual.\n- Ki: Constante integral que compensa desvios acumulados ao longo do tempo.\n- Kd: Constante derivativa que antecipa variações no erro para correções suaves.\n"},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"Z=Fp3tlbmZ*u?q03IvF6","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"kmn4T6,)#j`-|]bsYRHu","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"Rny[pPC29l$@2Raqp}fJ","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!8,uF7ntu:EH~)EL;TVo","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"q8K=PRc`3RpLaWelFCMG","fields":{"NUM":0}}}},"next":{"block":{"type":"blockVariableSetValue","id":"V^j4KCSzW3#Haz8wBNdV","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"7woR`]N=+KVR32X$Kh2u","fields":{"VAR":{"id":"5h%TK:ba]B3]%:C36KR/","name":"Kp","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"K@^-8dqY(wf@@r(PN%a^","fields":{"NUM":-10}},"block":{"type":"variables_setup_function_argumentConstant","id":"KhP@4N57cbRB%(|zjozo","fields":{"VAR":{"text":"P"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"~%wDyE:-4l7O7ei80o2X","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"-Aih7t^q,(ai1+0A4C4~","fields":{"VAR":{"id":"VxzB=2jHv5^x1=s3{K=S","name":"Ki","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"1j(qU}/[vFh;`0!cEa=b","fields":{"NUM":0.0001}},"block":{"type":"variables_setup_function_argumentConstant","id":"aw*q7BcmF=WT.aWdp?9|","fields":{"VAR":{"text":"1"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"SFZPkTLf(PA3}ImD4^R9","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Yp$OSiBHHM769F@iqfKP","fields":{"VAR":{"id":"La4}nGUK__|[$k(G=jWp","name":"Kd","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"8|woQ8rE_@k?o_4xzAyU","fields":{"NUM":0.5}},"block":{"type":"variables_setup_function_argumentConstant","id":"w,@uN[whm%BzC:c%zy-D","fields":{"VAR":{"text":"D"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"JK!*.fTY$8xh4?4^#fXm","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"VywIB+5jN/#6C56]cOm*","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"A8A~1awMI)]JH(7F:s{|","fields":{"NUM":60}}}},"next":{"block":{"type":"blockVariableSetValue","id":"5srW)E_P+[TG5LH7A0Ui","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"3Q9iLRH`g=U+T}~87uh;","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"vTCVYl{4m/*$D4fdWgs1","fields":{"NUM":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"_*-x{{B9o+YS:}LV30]:","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"g6+DurX6tN(-VDKFPsv*"}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"E9s!Q;Xq;I!fyOtd+!z/","extraState":{"optionLevel":2},"fields":{"ICON":"TASK","VAR":{"id":"TL[Iq5svkr*:?k.`jb=a"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"MG5SmS)4LPjg(Hr$j^9f","fields":{"NUM":0}},"block":{"type":"blockLightReflection","id":"+RBZPO$1`kGv@~5]A,zG","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"P8bWdh|LhIhffkXvQA23","fields":{"VAR":{"id":"o^CVWO0s%(A{GtbZ*@zX","name":"color sensor","type":"ColorSensor"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"p.*xay(*L@BT(Hrf)(Oj","fields":{"NUM":0}},"block":{"type":"blockLightReflection","id":"96xqQYZpO9Rp1z4~c;F0","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"2Y%8I;09E.+bV=[`P!JN","fields":{"VAR":{"id":"oA5)c156:zH@0p1TVPuh","name":"color sensor 2","type":"ColorSensor"}}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"m7I~*o7qDn/(}DnKQdc3","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"u@fWESa|qYm%d8f9}do/","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"H/8VN2bHx3AhiD.B}2Jx","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa","name":"motor left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"E2)7MIY%HtbSfKt:BKZN","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"t13y1XJ6MVnM7[:COH#?","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Hl{*9]F0FB@8L.pmEq#h","fields":{"NUM":40}},"block":{"type":"blockVariableGetValue","id":"$X)UgDlYNX/rk*}6]yo9","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Vs$:ri@..lK%HSa_rD3o","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"=-ObfI3k5yrIkDweAzI?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"*^}DLR@D]5R2sRhS%O[d","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Q^A;f3QueO/DbSv7BOz6","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"2reAmEcwd4SLp1!Ba#JC","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":":TU4?cyOdPm~NO:X:weZ","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX","name":"motor right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"9#-EUv/4-=cYv=oJD.(m","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"q}FhIZtc?^GHWaDElbl6","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"XYF2n?CuT(Q5@-CE-X#.","fields":{"NUM":40}},"block":{"type":"blockVariableGetValue","id":"|``;t(;18H:`wE^E;LB@","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"x[kYzuTYaQAh,4a=_A2A","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"=-ObfI3k5yrIkDweAzI?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"-Z2|9Rg?MlrSG`Km1.8g","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"@wv.B^MFc=|RNCUOFQk^","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"+OglWgD)IShjqC|B7Npc","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"#8EQcig%;f#kWRr(pu[`"},"block":{"type":"blockLogicOperation","id":"Q3yGUcD4.D_K::I}^IPR","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"]bcjt(d!6]O5})_nF;p?"},"block":{"type":"blockLogicCompare","id":"GrkLVhf.QYJAvnIdacl7","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"3o|Yk7U].|j=-4P(Im-I","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"$L@nnv?6UlPrie_T%TG?","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"UB0bzsZmDeZFKdslH!VS","fields":{"VAR":{"id":"CZTgRtBvw*/B}$=#%?kI","name":"distance sensor","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1R5Xl;RO~Je@1jAHH)m3","fields":{"NUM":50}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"(a$XuVF1[[D_pt}mtMO;"},"block":{"type":"blockLogicCompare","id":"p+qK4s10=e.PNZ%|YPx0","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"HIn6Sq=_48*Ok%YOAv$3","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"f4jgO)hq2iQ6ezD48zQ^","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"l^1i68%7[Y/Kt+mGk$RT","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"^+kra:Z!Zg0Y)urH(=XI","fields":{"NUM":0}}}}}}}}},"DO0":{"block":{"type":"blockDriveBaseStop","id":"0kjh$J=k+1@IxBti|)WK","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"8OMvpzSlp)j5rHSwoK`g","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"*Q0NDyj-Fd4Omc(P?1%A","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":".[!vcHEWvrxWG.dH4dn7","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"snOwQcb5S@t^n)o6dTz4","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"}Q#U*$ZnhI@4r,{L4nir","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Y?tE$eaOF@dMn23R`egb","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"U9cq3BLH]CIn@o]gmAs*","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"QOZ06Nfmq:]rGZl+%:{4","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"UsG+L`Ed[gpSTh$Q.][c","fields":{"VALUE0":350}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"4?FV;ENx:_JG6c4bUSas","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"i1JBvd5fmc{3!)VDo7E(","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"[iD/:8]v+n^y:wNoy?Jy","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"8RsnMSSzr7]d(^a*=b+8","fields":{"VALUE0":-90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"p#?|Ur=D$zBS:0Db1Zbh","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"nCZ{A5a.Ad4lC!S#3,b:","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ttGYP^.1zCF%xJUdmc,M","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"t~a7#%~j?AJ:Vs0ZJpyC","fields":{"VALUE0":500}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"8`0o5xTUeE5^`wY$}Qk:","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"SBD5q(|~suLwmBdnjIcE","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ly:Wb[5u%!%qjqLgi95n","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"oXpqBm$7@Ew}O;HF*.nS","fields":{"VALUE0":-90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"guWLg;V^4)U?{z@mGYZP","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFlowWhile","id":"qO#zaT{+$v+xoWyGVcuo","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"wv}Vs~7}l$]719IN1q^1"},"block":{"type":"blockLogicOperation","id":"cUwC/+T(H)yvmdtJ97#3","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"%k,?:#od5k8lx0^t4cP5"},"block":{"type":"blockLogicCompare","id":"iZ2X@J6Q+,m558^ijm!?","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"MF1*eJ*qApF$=%`1;MsM","fields":{"NUM":3}},"block":{"type":"blockLightReflection","id":"/F_q;Ok5,:pf?7H0Jt!D","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"vlBz/V~*#?6O/`U|W;1j","fields":{"VAR":{"id":"o^CVWO0s%(A{GtbZ*@zX","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"#L)]V.39m1z_taRbsZQ3","fields":{"NUM":20}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"3z^q;@=$ggT|ZwL!WC7y"},"block":{"type":"blockLogicCompare","id":"wZk`$79:QD-hU@I$5;qS","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Hr*Mzybztp+6RxLMNP/:","fields":{"NUM":3}},"block":{"type":"blockLightReflection","id":"epd5?:[)+,6mytbNDdFY","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"E:xVq;Cqj~6fUp4_63fV","fields":{"VAR":{"id":"oA5)c156:zH@0p1TVPuh","name":"color sensor 2","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"9_Vi~U%~XMlS*Lbcg{r?","fields":{"NUM":20}}}}}}}}},"DO":{"block":{"type":"blockDriveBaseDrive","id":"JN!!TOF(h_KTS3tpb4Be","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_DRIVE_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"SPECoLqSGZUnKr6Hm0{}","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"2GB7CeCjc3pHW9X^gn8q","fields":{"VALUE0":200}}},"ARG1":{"shadow":{"type":"unit_angularVelocity","id":"bXO(E=^GjQt%+9?kn99Z","fields":{"VALUE0":0}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"KMv`l:mJnK%BhUv=+k/g","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ZB=UFX)mqY}nYW9}oTS.","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"PzXq.,kgT~|g#x!*mQ`N","fields":{"VALUE0":10}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"1:mcn9Al2*ZUT8DUu+e^","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"@AQ(]jKP!%-Sk,@Ic!+E","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"B9*.VZzFWS$Ej8sID*4(","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"+}g^X8RHyNq~QU3z{Ns+","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"Z_+O)oWGHgVqG,V^D=C!","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"e|GYw=s*1`v/]d~(x5T$","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"}B;0j~(2X/:tCX3bM-b?","fields":{"VALUE0":30}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"D3)2Y+Sng@~:eUBUeEeH","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":":V[L}n@T!?SvP)06b-5/","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"%f=C%)bqkA63J7e-C[u}","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"AX?O!``j#Tu0HwM4k1z!","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"mz%QQJl7xK#Ug{[,s?A-","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"RTcn4A9;}^Ew-Y23#:kW","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"ewJ7_L-HA3{pw)y(e[^M","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"dZE]aZ.TBFRauevy7!1E","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"_m8lra:CPhnwVGS^;mLt","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"LFVm+/u7SpBu)#zN8zCK","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"S)Z}(XahJ1{,^D=c9jD,","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"G#|88!2H3O;C|.A:x@fj","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"L-fnWSl`nuSFA]5:Y[aE","fields":{"NUM":1}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"KTOae}${FJB0d|=1_T-I","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"#8EQcig%;f#kWRr(pu[`"},"block":{"type":"blockLogicCompare","id":"6c5nR}w_oHZ-FA`1c~-m","fields":{"OP1":"GTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"3o|Yk7U].|j=-4P(Im-I","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"h/Hoz[mPZaq|bnb~JjhI","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"6kqQ)Du`D*{H-Se=^|i`","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"FfQw6i#U2s!Y5fd-B$uA","fields":{"NUM":1000}}}}}},"DO0":{"block":{"type":"blockVariableSetValue","id":"F7tF5_K#qtX,YF6f}$)T","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"G/=;JF-L8MUI:T2*HX^[","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=X~u7jz98}wrTbh$IUP3","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"blockIfElse","id":")_#H?V0#sGwdMn1*qlvY","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"#8EQcig%;f#kWRr(pu[`"},"block":{"type":"blockLogicOperation","id":"RpN4i4PRO`o(4xct2ywv","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"]bcjt(d!6]O5})_nF;p?"},"block":{"type":"blockLogicCompare","id":"Cv?PUJv8V?zp$33DnPm~","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"3o|Yk7U].|j=-4P(Im-I","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"~MAEKY@Gwq-kS5_s+,!r","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"~w4Bm=6:6D6aTUR9BIN#","fields":{"VAR":{"id":"CZTgRtBvw*/B}$=#%?kI","name":"distance sensor","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"h]BAUM!*^8D!uAvVM;7m","fields":{"NUM":50}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"(a$XuVF1[[D_pt}mtMO;"},"block":{"type":"blockLogicCompare","id":"Cw3V^.I3#o3i)f=C|ow8","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"HIn6Sq=_48*Ok%YOAv$3","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"O7:U/wEtwY6G(1zT5c[F","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"E-)O51`y`_B};f8,Ut@^","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"E:(!Kdx,xc{_:PCsIU}S","fields":{"NUM":1}}}}}}}}},"DO0":{"block":{"type":"blockDriveBaseStop","id":"AE3s-ti_mDJA1hX8$NUF","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"j_)9O-q.DPabZ]+_;uWp","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"vyS8Apa{Uh:Jd2NIhEl`","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockMotorRun","id":"$9G|:!A9.Ln!tO2Ye2?,","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"#3`9LVScQc-v(lZDf,Wp","fields":{"VAR":{"id":",Gt^96XMm)3(#,Kv=JJQ","name":"motor-garra","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"0;C*2*`ZnL|NJ|g6ARWx","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"tb6tkSjBwUwlya2/jpAC","fields":{"VALUE0":200}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"8K;86DSv_rXz/_^pncaK","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"[_4$F5jSB|r{J9vGi)S]","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"ik~@%|D6c:NRS+BDiJt^","fields":{"VALUE0":2000}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"[oS06dTiW}@?{5}r#7gZ","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"{;ElzX2VfT!ccjI.[fx@","fields":{"VAR":{"id":"^^Y$_($@f/ELg],cC?So","name":"LastError","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"F#`GR17!;R0-Jp~@pmmh","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"H7/6s3v]::F99.E.hu]G","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"b)*4TXzFY1ZNj0au;Fj5","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"G%dr|oPp@JJG4*JVI!we","x":1405,"y":2748,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"[mXx9$W-bv!Mm={n_z+h"}},"inputs":{"STACK":{"block":{"type":"blockComment","id":"9IQW=}%iJw[YO65cf6od","fields":{"FIELDNAME":"Este script implementa uma função para movimentação reta utilizando o giroscópio embutido no LEGO Spike Prime. \nO robô mantém sua trajetória ajustando dinamicamente os motores com base no desvio angular lido pelo giroscópio,\nutilizando um controlador PID para máxima precisão.\n\nBlocos Autorais Utilizados:\n- Gyro Move: Garante movimentação precisa e linear com base nas leituras do giroscópio.\n\nConfiguração de Hardware:\n- Giroscópio: Integrado ao hub, utilizado para monitorar a orientação angular.\n- Motores: Dois motores de tração para movimentação do robô.\n\nParâmetros do PID:\n- Kp: Constante proporcional para correção com base no erro atual.\n- Ki: Constante integral para corrigir desvios acumulados ao longo do movimento.\n- Kd: Constante derivativa para corrigir mudanças rápidas no erro.\n\nFunções Principais:\n1. `gyro_move()`: Movimenta o robô para frente ou para trás, mantendo a direção.\n\nNotas:\n- Resete o giroscópio antes de começar a movimentação.\n- Ajuste os valores de Kp, Ki e Kd para o comportamento desejado.\n- Teste em diferentes superfícies para validar os ajustes."},"next":{"block":{"type":"blockImuResetHeading","id":"Ai6J`uMKQZsY`b)5N?KJ","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"7PCt|%oFFPgRk-a~EkvQ","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"{}Aj$*tok]L1+vo!.Z9m","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockStopWatchDo","id":"xBx=iII8o,5w$lM8Z%IS","extraState":{"optionLevel":0},"fields":{"METHOD":"STOPWATCH_RESET"},"inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"rA)XbPJ|Wy^Za1$_,{cy","fields":{"VAR":{"id":"KiucSgYz4|YrG9Iw;i2i","name":"watch 2","type":"StopWatch"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"DdC%t-xFj::hL8f9N`!8","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"I(`ygmm_}kutURDc3D+L","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":",3dC/We1~JQirnawUagc","fields":{"NUM":0}}}},"next":{"block":{"type":"blockVariableSetValue","id":"6Rf];L_vE##ff*$(yhwd","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"[p3ju~qFz5:dO{7hN~[f","fields":{"VAR":{"id":"5h%TK:ba]B3]%:C36KR/","name":"Kp","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"_zX([0nt,d=9)MyI$Cof","fields":{"NUM":20}}}},"next":{"block":{"type":"blockVariableSetValue","id":"dk+t`Rdz--_iE5vi4ZS:","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!bP3yP(ZU#=4mcP~@jL%","fields":{"VAR":{"id":"VxzB=2jHv5^x1=s3{K=S","name":"Ki","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"K?|0jLW$vkpj/%K76e,1","fields":{"NUM":0.0001}}}},"next":{"block":{"type":"blockVariableSetValue","id":"E[z^5l1Nyq](=(vx21Pf","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"@10d=M2[FE]sE|r:;/)n","fields":{"VAR":{"id":"La4}nGUK__|[$k(G=jWp","name":"Kd","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"N/}_FHu6Ua2p+?+V{Y.)","fields":{"NUM":0.2}}}},"next":{"block":{"type":"blockFlowWhile","id":"orU?%n*:=hWC#neY.S=j","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"vk1ZM^eEs-^A=T1Yeqka"},"block":{"type":"blockLogicOperation","id":":TrW#Y]AJ%R]9i{#)BI(","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"%k,?:#od5k8lx0^t4cP5"},"block":{"type":"blockLogicCompare","id":"HWCe[{!N+#``y+,V#CZ8","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"MF1*eJ*qApF$=%`1;MsM","fields":{"NUM":3}},"block":{"type":"blockLightReflection","id":"**eiCz^?eje{{q2#ze2_","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":")Y4-%a3TMzs9}O:nw0g%","fields":{"VAR":{"id":"o^CVWO0s%(A{GtbZ*@zX","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"PNe.LZD(uf]T+`i~oXo%","fields":{"NUM":20}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"3z^q;@=$ggT|ZwL!WC7y"},"block":{"type":"blockLogicCompare","id":"{Cz=%jZ5K~$yzxq%-E#b","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Hr*Mzybztp+6RxLMNP/:","fields":{"NUM":3}},"block":{"type":"blockLightReflection","id":"p+T3V8aBQTFjrAC`wdtW","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"i];KO`OBt~q)%:6V5oQ!","fields":{"VAR":{"id":"oA5)c156:zH@0p1TVPuh","name":"color sensor 2","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"{Huzg{f=eTS6l*;%%QjE","fields":{"NUM":20}}}}}}}}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"M(?O_!:zK7T;r9#5_g;/","extraState":{"optionLevel":2},"fields":{"ICON":"TASK","VAR":{"id":"TL[Iq5svkr*:?k.`jb=a"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"qe!}B,Fz3cHLc+#JVX:)","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"ERaiB[SL`DKX^%szSUfc","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"I)T~,1L8t?+aw}$fBgF+","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"Eis3*}860i$}-5QiN*ee","fields":{"NUM":0}}}},"next":{"block":{"type":"blockMultiTask","id":"(s2{9PL`mV,ksy)MvS~`","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"4qyPPj;!^NXZ*?+vwnC(","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"fGBjt#VsT{az#Dv~xbMh","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa","name":"motor left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"E2)7MIY%HtbSfKt:BKZN","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":";c91QbGl`j6$4kV-!4Eb","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"+2rA4[yNk3fB?+A]y[`=","fields":{"NUM":75}}},"B":{"shadow":{"type":"blockMathNumber","id":"=-ObfI3k5yrIkDweAzI?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"k/|D~?{7!ClnQ=t|F?-H","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"~l$z.(:Xs#xi/T-M:ugH","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"Ic|]3_QJjgi,Jz!28O^(","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"6s4yc5c|FSE`61~NwykW","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX","name":"motor right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"9#-EUv/4-=cYv=oJD.(m","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"[6bocTm_ix82GWQt0H{^","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"26$jQG(FH:}uL^^sSLwp","fields":{"NUM":75}}},"B":{"shadow":{"type":"blockMathNumber","id":"=-ObfI3k5yrIkDweAzI?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"D^a/FY$6#%TJbuVGxonq","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"5t0fu:(;G)o3#?B1GgnN","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"FE#O;R3(38bN6pre`j$6","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/K]_9jO_h28]7DFYHI!T","fields":{"VAR":{"id":"^^Y$_($@f/ELg],cC?So","name":"LastError","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"bw/f~#Y,Qzw3AsfqHE(r","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"3VEQlbX8PyIVuTJMA0`A","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Y@g)~,R0+#N-V9lsL8~F","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"45[}xO.E_*N{!%WU[O9B","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"Kel3c.50s?)t;}~!R/bn"},"block":{"type":"blockLogicOperation","id":"4RaoT)Lhi$s;j8~0_Lx)","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"teLO7z9HCTpYmmhGr4(,"},"block":{"type":"blockLogicCompare","id":"f$]BXF,otdU0X|~8;`hz","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"3o|Yk7U].|j=-4P(Im-I","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"%#Ue[lXT9f:o;,:y/8MF","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"V8dKnM!Xvn)h^t|%6F)@","fields":{"VAR":{"id":"CZTgRtBvw*/B}$=#%?kI","name":"distance sensor","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"N}PxD;]s2vr!FQ#h-xOd","fields":{"NUM":60}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"y~;f*[b+`x^}o0DSFInb"},"block":{"type":"blockLogicCompare","id":"wvF*f{!R)VO%wr%)cL12","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"bSai1nDR8:S2s.lH.$HS","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"W!GNH-Ma:x=xS*Hw}zKm","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"uF2V}5SLu70c1(mFz|Eb","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"ClLH1u/D8q_3~kvK_AY}","fields":{"NUM":6}}}}}}}}},"DO0":{"block":{"type":"blockFlowBreakContinue","id":"zuz!Gv:QmcH#6NxITQ-(","fields":{"FLOW":"BREAK"}}}}}}}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"HDStxiGf{f-_JKqG%*kx","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":".v?,_S`;AI|{0!i-=89C","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"`}y8;5yKAAbfhIs|J0vs","fields":{"VALUE":"Stop.COAST"}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"M@9utJ0a_.;r**vYQ(@H","x":-345,"y":1373,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"!i8m$])Ccmuz/_hvSe~S"}},"inputs":{"STACK":{"block":{"type":"blockVariableSetValue","id":"Cv*=91/x_+Nl=;s5Q++m","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"d1Jgjr:YpWQ~+xqm1FNY","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"dvJ`wl3T^/C#/]x+Pi:9","fields":{"NUM":0}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"N9;i,3W_=]GU},Asr6w}","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Wxe!-f:g]aolsuw5=OBk","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"%HbuC)nL?IOaC_Cr;H.i","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_TURN_RATE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"f?OK:2Dhq-B7LaEHcN+G","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"py?vLf;K0|WbYfH,aU$)","fields":{"VALUE0":425}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"g$J71c:~;^I!Wg5BKhp0","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Q,={eo5dGK+LhN.YdN0k","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"{`o)f42:~Ym47R(+jU0X","fields":{"VALUE0":200}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"U)-U/ja8-}bRsQB?^o:2","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFlowRepeat","id":"Y@yg2ZX{)m:=BInjN_0C","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"eg3r)5Gbp4QgFagJCiB}","fields":{"NUM":6}}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"_E$|hH`m72VkL(Yx1c,t","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"[mXx9$W-bv!Mm={n_z+h"}},"next":{"block":{"type":"blockDriveBaseDrive","id":"P6^}ovO$:qquhYf?c1}o","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"N|}?05beV!U)Djwx9%g?","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"B1PK2_)2MK.e!wxJUBL(","fields":{"VALUE0":-55}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"b/6d;Y,kD4?}llFJ!3oQ","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"j^)jsL!H?dooCTY.J{!^","extraState":{"optionLevel":4},"fields":{"ICON":"TASK","VAR":{"id":"QJdqj@|A2/d]z~R)e5ok"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"*unKVhmC_Uo=wbwEz*7S","fields":{"NUM":-0.8}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"Ciiz1whCvICGN6j.))GO","fields":{"NUM":0.001}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"9JYGfe,4,FC5m?(/-Ll]","fields":{"NUM":0.02}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"T7?c%];*#w@`K;zNzS!b","fields":{"NUM":89.558}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"LpDTV}~[oGVu?kbFo(-x","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Vk/8p+o)k`W4qJ^=O7h0","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":".DQDvTIQnBLn2|~BZY:`","fields":{"NUM":6}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"EL[zTxt0RBBj!Eip];QE","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"[mXx9$W-bv!Mm={n_z+h"}},"next":{"block":{"type":"blockMotorRun","id":"T%Fn#WaIAk;T/jr`YuO|","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"91LXy,!SZCoBV58*`A+0","fields":{"VAR":{"id":",Gt^96XMm)3(#,Kv=JJQ","name":"motor-garra","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"Cd#K1AhrCvR|e.O6b%Q|","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"-onjjJaMUQF2RE3P_QZ8","fields":{"VALUE0":180}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":")C3p}wIrr:-?}bY`,MAi","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"wBXy,.Tt$?_HR]9kh8mj","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"DpGj?$cFIqe.UWm|jiCT","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":".DQDvTIQnBLn2|~BZY:`","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"TKR?n%@Ytk*GFJKhl`d1","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"v%]]e(6teRozNs1V|tYz","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"]Sy.oao9%$CC(@wsVr@h","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"EgB}`%OymNm/0r}qxZAp","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"r1QxogKr$CvA?aC%59-Z","fields":{"NUM":1}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":",2e;/cQW9*O9Z/?/l?JO","extraState":{"optionLevel":4},"fields":{"ICON":"TASK","VAR":{"id":"QJdqj@|A2/d]z~R)e5ok"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"=U4NA|XmcmFH_pJT;Ln;","fields":{"NUM":-0.8}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"]4yO9kGT8_Ogl!{}~(|D","fields":{"NUM":0.001}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"=zc4lEA(h48H;.p8%UBv","fields":{"NUM":0.02}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"oRRw=$Hgk0D05el`dMe`","fields":{"NUM":90}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"PGtX!vJgAgkv#!/e#6%N","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]9q+ERE|0iJ.U7$9pP-!","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"E!fH)@I/A@L31*F4v?;{","fields":{"VALUE0":-30}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"h$Nb5DEX-oDuM:65IuGG","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"8!3ockv*GWTC$H5A9[O?","extraState":{"optionLevel":4},"fields":{"ICON":"TASK","VAR":{"id":"QJdqj@|A2/d]z~R)e5ok"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"VAx`V1M!NH0ZVQLIq!R@","fields":{"NUM":-0.8}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"DI0r;%;zF)Wxt7zYxC_E","fields":{"NUM":0.001}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"EmAc7~K}YRLsr|pDv_ed","fields":{"NUM":0.02}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":",h:LQkkS9OeL7`v-q4um","fields":{"NUM":90}}}},"next":{"block":{"type":"blockFlowRepeat","id":"PU#(;^F?g=5aP:oIL(Xm","inputs":{"TIMES":{"shadow":{"type":"blockMathNumber","id":"*e;vTsX{4ih~JX{YF4+i","fields":{"NUM":6}}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"_dL)cvm-RTqTPI2Xr=O,","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"[mXx9$W-bv!Mm={n_z+h"}},"next":{"block":{"type":"blockVariableSetValue","id":"#86r#7}f=hyoLv|#9h-8","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"g+xFc8ba[zHJ0T-HN(Jk","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":".DQDvTIQnBLn2|~BZY:`","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"8*#WXO+wINa^6.7=Gk!}","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"v%]]e(6teRozNs1V|tYz","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"q,p~l3#jWh98STpPC]::","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"0;@FcD#Ku`/t]h1_Xv=h","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"5c,@g-B`=9RH)54lktA/","fields":{"NUM":1}}}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"dou/rO%!I3#.dYT#@2d$","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"%WE/K2Y{lti3~V0Iu}H{","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"*@6c~!Rv*)[w$Y.ij@W]","fields":{"VALUE0":-70}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"`t:(5wtd[iq_Jbv_u!P1","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"v)KS9*5+M*A/.NtBDd|`","extraState":{"optionLevel":4},"fields":{"ICON":"TASK","VAR":{"id":"QJdqj@|A2/d]z~R)e5ok"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"TiH]ti/Y`DE2j(^pYkD_","fields":{"NUM":0.8}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"!Qq5!.:PJ9k{$Frl1=9K","fields":{"NUM":0.001}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"`zz(~@S!WANDir3Pf@wk","fields":{"NUM":0.02}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"Sl?x.eSX|6K!^ZYUZO*7","fields":{"NUM":-90}}}}}}}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"^6D:8^Tb^rOb+7J,iKR3","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"[mXx9$W-bv!Mm={n_z+h"}},"next":{"block":{"type":"blockMotorRun","id":"H,T}Zq2%%!j9/_H@w$_F","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"_W_waB,-sfH):~Gn1_D^","fields":{"VAR":{"id":",Gt^96XMm)3(#,Kv=JJQ","name":"motor-garra","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"hF*lkb/9X)o$raQWsl+6","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"hh)aPEt3%-:Qd_#E(!qv","fields":{"VALUE0":-200}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"*!zEqk=sB.(Se|-JRDng","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"uiOE$h[mz,)Tgzd=^+M7","x":2822,"y":303,"extraState":{"optionLevel":4},"fields":{"ICON":"TASK","VAR":{"id":"QJdqj@|A2/d]z~R)e5ok"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"p]Mc4%@/2pAOCKu:5$g{","fields":{"VAR":{"id":"j+,ixw,dt|)SWK@K(Ds]","name":"P","type":"FunctionArgument"}}}},"ARG1":{"shadow":{"type":"variables_setup_function_argument","id":"D{P$YDfLo4p})[vb`i49","fields":{"VAR":{"id":"XkNv*}y6-^}%j:,@SMMH","name":"1","type":"FunctionArgument"}}}},"ARG2":{"shadow":{"type":"variables_setup_function_argument","id":"UrRL$nZqpeb7n-${^,8!","fields":{"VAR":{"id":"-XSYBOb.tay_M8L3H41C","name":"D","type":"FunctionArgument"}}}},"ARG3":{"shadow":{"type":"variables_setup_function_argument","id":"Gj]7+4EFw5-IPRiylNAf","fields":{"VAR":{"id":"BulzW;!ptdTL*w6Z[5ia","name":"Referencia","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockComment","id":"(jKplS+gMnM`kB(MP5t@","fields":{"FIELDNAME":"Este script implementa uma função para realizar giros precisos usando o giroscópio embutido no LEGO Spike Prime.\nO robô realiza um giro baseado em um ângulo-alvo fornecido, utilizando controle proporcional (P) para ajustar a velocidade.\n\nBlocos Autorais Utilizados:\n- Gyro Turn: Garante giros precisos utilizando leituras do giroscópio.\n\nConfiguração de Hardware:\n- Giroscópio: Integrado ao hub, utilizado para medir o ângulo de rotação do robô.\n- Motores: Dois motores de tração para movimentação do robô.\n\nParâmetros:\n- Kp: Constante proporcional para ajustar a intensidade da correção durante o giro."},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"L4,:nA6K!lp{BaFkX~_s","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"io1rBHom8?J?Dp=ej5JW","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockImuResetHeading","id":"n3t:k]g[FMVf?Gt]isK!","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"GGZ7zwvzLlwC_7m3aN|8","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"B=|XXs9E679O/.vEzTC9","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockVariableSetValue","id":"~^C@T{`}n2?nWnZ@fZ5f","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"lM#5ew8SkT-pp[9b77Qt","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"*.`=.#PeQ~u@RLU+5%(Q","fields":{"NUM":0}}}},"next":{"block":{"type":"blockVariableSetValue","id":"~:l[tyy;i@]@wmeLMC!k","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"p`%w;sIt2lq,?DL#p!|q","fields":{"VAR":{"id":"5h%TK:ba]B3]%:C36KR/","name":"Kp","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"K@^-8dqY(wf@@r(PN%a^","fields":{"NUM":-10}},"block":{"type":"variables_setup_function_argumentConstant","id":".cD`Nf2hS}}qhfO$fVyp","fields":{"VAR":{"text":"P"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"Y|ANd6rssT26=PoQf7JQ","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Gdfane71V*W.ChS72e]r","fields":{"VAR":{"id":"VxzB=2jHv5^x1=s3{K=S","name":"Ki","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"1j(qU}/[vFh;`0!cEa=b","fields":{"NUM":0.0001}},"block":{"type":"variables_setup_function_argumentConstant","id":"N:hXNI2-rk/jeptWgWSs","fields":{"VAR":{"text":"1"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"S%%XB~#^9sD?[X[y@,aF","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"y9mIAo^)sw?4rnn.@Rzg","fields":{"VAR":{"id":"La4}nGUK__|[$k(G=jWp","name":"Kd","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"8|woQ8rE_@k?o_4xzAyU","fields":{"NUM":0.5}},"block":{"type":"variables_setup_function_argumentConstant","id":"oP](YTtE1N`]}PPUIO-^","fields":{"VAR":{"text":"D"}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"4vcd$$:fi=_m}njtx2gL","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"drYAu8=R,$1jI*t(Jo}X","fields":{"VAR":{"id":":.eyWam%,G!Vj8tT.^oJ","name":"i","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"a%c+}(soAjiQM4U:x)QA","fields":{"NUM":0}}}},"next":{"block":{"type":"blockVariableSetValue","id":"lQPyF$[[NJfMp-vgXvQe","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Uz8-n(:EoOg$Ur^)pi}D","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"nRm,k=q81JAG!:nMpV~V","fields":{"NUM":0}},"block":{"type":"variables_setup_function_argumentConstant","id":"|0P#.tbm1WKE1Dd/x3x#","fields":{"VAR":{"text":"Referencia"}}}}},"next":{"block":{"type":"blockFlowWhile","id":"mWT0B;5D$~08ww0}Ze+3","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"DqcJ!iK^A.ki{jv=emqM"},"block":{"type":"blockLogicCompare","id":"E9~=4!]V|H9Eb=SuFe*`","fields":{"OP1":"GTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"!/(2@fOwGxiG:FU[lq07","fields":{"NUM":3}},"block":{"type":"blockMathOp","id":"b94s5xVRi4vL4;~aQg2a","extraState":{"optionLevel":0},"fields":{"OP":"ABS"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"1V5.#C,UD5Kb{i+H`B*F","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"FowxN6l*U$?6Sin|M=[^","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":":7AXaSMrzZ;N/hVuh^T_","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"V:QSH*Oo*.sJ$:ZF((|z","fields":{"NUM":4}},"block":{"type":"blockMathOp","id":"M]Fm*WMTVu+3ag$uPK/l","extraState":{"optionLevel":0},"fields":{"OP":"ABS"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"1V5.#C,UD5Kb{i+H`B*F","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"s8kfelC%TT.u1@-0T:oS","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"1ql,Fg!TydJ|4n)D,7,S","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}}}}}}}}}}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"w@*`pQk^~%L#M8:5%ntS","extraState":{"optionLevel":2},"fields":{"ICON":"TASK","VAR":{"id":"TL[Iq5svkr*:?k.`jb=a"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"ynsyl-mxlLk=`2A$5`|e","fields":{"NUM":0}},"block":{"type":"blockImuGetHeading","id":"pJ(m{uofs,/}?2[vyktl","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"PnQ^OO7#mS_U8{5[Shd}","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"nY]9|SL*DzHG?Bsrs[/0","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":".+C;|61=C0I/s$$6C(=O","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"XqC{M!~0$b?7gr+P:E7,","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"xhm%n#gr2hWk7_]`y6i8","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"6h5mOD1x*TnV+`}ug?X$"},"block":{"type":"blockLogicCompare","id":"a+G)I2,mVX/hfhHXmVnU","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"0~FX4|OL8u/b)p8wK^N6","fields":{"NUM":3}},"block":{"type":"blockMathOp","id":"q%ygGCI:XI6!j%-%FHj*","extraState":{"optionLevel":0},"fields":{"OP":"ABS"},"inputs":{"NUM":{"shadow":{"type":"blockMathNumber","id":"Mof4%aXW/FxgQTW+6QD/","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"]^6Mz{=qpXtx}8l3H,Ki","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"#9@DMZR=CvnW5@)~3|sD","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"K:@el5!)Z=|k[CoElrXN","fields":{"NUM":60}}}}}},"DO0":{"block":{"type":"blockVariableSetValue","id":"YhNHUTWQD#~J|%Wv`bI|","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"*6Z!KolJ?1R6sb6pthLL","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"v3J|SZg#Z{WA*8;#{q.A","fields":{"NUM":60}}}}}}},"next":{"block":{"type":"blockIfElse","id":"o3bjc8X|V%HR|uKA{^}^","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"%!pu^WB%4ZY{aqs/@$4#"},"block":{"type":"blockLogicCompare","id":"Y1(Y$=!5b#yU0v6Z6`dr","fields":{"OP1":"GTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Q26qx+9lhu`@Ba45d@.}","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"_U].2;7+L@7fFc~E)#=Y","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"B+N*N^i@!6(.3n#18PN}","fields":{"VAR":{"id":"tn9B=mfF6uJuT~4yWCyj","name":"velocidade","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"[CS7rhEab]_Xt~;i|ej(","fields":{"NUM":0}}}}}},"DO0":{"block":{"type":"blockMultiTask","id":"z8dB,Wd61CzBrhLw1;-3","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"B00/2Tw?;+l%i^G7nHZ^","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"fA$OjXTJ~qBhBO$?N@6s","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa","name":"motor left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"E2)7MIY%HtbSfKt:BKZN","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"F?.JsQ-^OObG5SlY=eyU","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"!I9wkhJ1XFGS(GY;GNx;","fields":{"NUM":75}},"block":{"type":"blockVariableGetValue","id":"samCy8T$=Y?Sr-6[Na%Q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"4!XMu;~4pBw[f0D/2pXT","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"W`fm9lI-i#04$f,xv~`d","fields":{"NUM":1}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"H}=}Dw]zV]IJlEdZA6*m","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"WJ_SA-K(}D9:Gy-xCMH.","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX","name":"motor right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"9#-EUv/4-=cYv=oJD.(m","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"8+OBV=j$56}{BhhIE)6$","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"o?|=ag[1hgy4Pyj.=?By","fields":{"NUM":75}},"block":{"type":"blockVariableGetValue","id":",IEB.a`xW[@iU|W:DJ:=","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"m5x24q`x/(ilwXUQ*_ir","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"CNXAw:/Q1%XG:j(_X(V/","fields":{"NUM":-1}}}}}}}}}}}},"ELSE":{"block":{"type":"blockMultiTask","id":"3N/gufSkSalvh+$X;QQW","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"Z3c|{]=+~lQ694[EpLJr","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"w3,Yt~M`4#{5RI|7b8;1","fields":{"VAR":{"id":"fhpNFxzz:!y#9Fr^MJWa","name":"motor left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"E2)7MIY%HtbSfKt:BKZN","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"LU|w`@lCS5htAavz^/4P","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"!I9wkhJ1XFGS(GY;GNx;","fields":{"NUM":75}},"block":{"type":"blockVariableGetValue","id":"dYC|My:ZZTAuwHFx,n/n","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"M*{|-o_cVDT6HY@]pMOO","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"w.aIvFY?egZYZZ/?uY$:","fields":{"NUM":-1}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"+asA5CCjaW:[RPGq/I8z","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"cBQs#p4Lp_r7S;s~7A:[","fields":{"VAR":{"id":"V)AB8C:2h#/M,MZDWSMX","name":"motor right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"9#-EUv/4-=cYv=oJD.(m","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"~^sj$azPKZ5]`Swn(cx/","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"o?|=ag[1hgy4Pyj.=?By","fields":{"NUM":75}},"block":{"type":"blockVariableGetValue","id":"@(q-]IkG;7ATMy:(B_3m","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"?m-Fx;,ZPn#.yvkg~8dd","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"7ea*!{vXJ.cd1zw8OwY.","fields":{"NUM":1}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"V}]id@_-7)sSFDG`vDAe","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":",@bv^cTqZbew)HE4[|rV","fields":{"VAR":{"id":"^^Y$_($@f/ELg],cC?So","name":"LastError","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"t%4i%FOfE[fo0dDu.sHl","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"ld_H@L~.xEgU;,If3i~g","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"CN+fyW%%0cIc~pU#r)v.","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"s-+C(bF{}`$$u;Xd(j/`","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Ggm2I_Hm|H,TKGZmJvXX","fields":{"VAR":{"id":"}-jBb)fX:7~Fw%Lm%^y-","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"ZGI1=BU6F|4MJ_ZpQFSl","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockPrint","id":"c?@eDY0g*3_au03M7.mP","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"P,|g(Vpd2sB`.#j@bWVT","fields":{"TEXT":"abc"}},"block":{"type":"blockImuGetHeading","id":"~DoMtMMR5{pzU,[A[q7B","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"PN-]WR:H`60%*I13LV9E","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"[4x2D^ww~v4DG^.Dn2h^","x":1377,"y":-141,"extraState":{"optionLevel":2},"fields":{"ICON":"TASK","VAR":{"id":"TL[Iq5svkr*:?k.`jb=a"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"KE:[B@:){9Eq706|6,~k","fields":{"VAR":{"id":"$yGttQ[Lp?[uH*8*lSjN","name":"argument 1","type":"FunctionArgument"}}}},"ARG1":{"shadow":{"type":"variables_setup_function_argument","id":"i{=XTko2Om_vr~*ld.UD","fields":{"VAR":{"id":"hu,]t()QKKrGzR2X]nY9","name":"argument 2","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockVariableSetValue","id":"t5G:R@*!t0F3Jj*nVLCC","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"s!P]wAsEl?PL#~k`/er:","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"cN)~0*Yf~+NNG]7~(D*u","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"o^EpX!:Xsb*tIo$Lk^lH","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"=7pC({qH6vrZ:NC)ItWp","fields":{"NUM":1}},"block":{"type":"variables_setup_function_argumentConstant","id":"KJqb?nvg~T~y$|m#cyLC","fields":{"VAR":{"text":"argument 1"}}}},"B":{"shadow":{"type":"blockMathNumber","id":":2IbMS:%qCMN,AseU7Il","fields":{"NUM":1}},"block":{"type":"variables_setup_function_argumentConstant","id":"1;S6(c^47g=S}=vFzz8Y","fields":{"VAR":{"text":"argument 2"}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"g=(JV+rnR5GW]:/I8t36","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"P_1Sa%=DJ(SV7R:.{:x5","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"yi[TQg6^b]gk#=G69_ms","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"LOo6?dMpV6]wcWAp?o!T","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"O}`nazQzcDQ/u$YSrA-a","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Svq*5O5J3_)|!0a0g;79","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"+xHK~c@5qzTX`JcAC}#t","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"|Zsd)xSk+FCqao3SPBop","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"#)I:f5i0[p#-ixf)s;`c","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"~rkW*LaU?:u9B891ng|%","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"y+n]*/c;*%mUPCJl!0J!","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"N9WfngMoBB84n~ot=Met","fields":{"VAR":{"id":"uKc/o~^Q7SsGeIGS^@Kg","name":"Derivada","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"#y;|)!J89zx_:!g:eGLz","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"%/Ok.lzmEyppBxKu-3b9","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"oJ_4`8Ch;Hd{f!B9NFu[","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"p$o]2/!-sH3[TLun7|iO","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"*suZ9O@6`i)_+pUnF`nI","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"}aeC?@M|=?`8{`i!;}lr","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"LD-Rjs3f`15wo/,~N=S(","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Qi2C.het*sRkSQ)!Pe9x","fields":{"VAR":{"id":"^^Y$_($@f/ELg],cC?So","name":"LastError","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":",z]mbDU~k$GS667HpcwK","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"h=xRxJ:^YTLmC9iRht|k","fields":{"VAR":{"id":"NpnF=BM:^hn+b(SeAVfL","name":"Correction","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"cew,Z6J(J2N_L~e7+H0I","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"mjfEuHvD0sSB2c2Cj~o]","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Bo1fVZolxf{FXZ8,[1oE","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"/_T.oRP^s,[20Jpx4zo?","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"OMIIgr4zPKq=j.b?oZmo","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"~9eI0ky~ZRZ$+mbT1,CA","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"nI#_oRYpy^#``Ur^(/{%","fields":{"VAR":{"id":"5h%TK:ba]B3]%:C36KR/","name":"Kp","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"acDy5OhA],_7u:Y^;hro","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"$]?t|1:YHrgpd%ip.cT?","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"|:$ZCQzgXkPZ_=r36TIQ","fields":{"VAR":{"id":"GC4DP#Epy[P6$O7Hw!zE","name":"Error","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"{pij2%;X{^?qgr=ch-ME","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"mUnzw8A./3Paem!+z{1D","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Z-t2jYvh/YRxF[cpNFWu","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"M5rRg]ew=MGclG$u:%bH","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"OMIIgr4zPKq=j.b?oZmo","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"n1WHyGZ1_TM.RFDI$4a/","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"D]cKB*#@y7k7hr|rUU0f","fields":{"VAR":{"id":"VxzB=2jHv5^x1=s3{K=S","name":"Ki","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"acDy5OhA],_7u:Y^;hro","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"h^`([3:+0n7bMbhbl1+%","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"ttnrbL^$x=Ih=ah5`P`-","fields":{"VAR":{"id":"2*yxy4z+l@*E=da5AH;N","name":"Integral","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"S?/XF#f[j*UR-mIt[@gs","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"2vW}0fo#l~--D5`^3_jg","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"OMIIgr4zPKq=j.b?oZmo","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"-L6)jjZ*u3c7!,c70w+@","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"w;U]-m9dih)sgFcYL30~","fields":{"VAR":{"id":"La4}nGUK__|[$k(G=jWp","name":"Kd","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"acDy5OhA],_7u:Y^;hro","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"T)@=6_le+-5q}uxg@29c","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"TtoGm%4~;];C5_|p3e4@","fields":{"VAR":{"id":"uKc/o~^Q7SsGeIGS^@Kg","name":"Derivada","type":"Any"}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockComment","id":"m-[IQ/3^h4(k2zCAN/qI","x":-991,"y":771,"enabled":false,"fields":{"FIELDNAME":"Código para criar a interface de selecionar a programação e circuito"},"next":{"block":{"type":"blockFlowWhile","id":"P@y`i}`ffMK!2FUWI*W{","enabled":false,"fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"+JyU3/b*CbWz{#kzN*A("},"block":{"type":"blockButtonIsPressed","id":"P|P?)a4YvuUdib}[^*f^","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"0@djuppf[1co-4Tl?l}-","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"mrTV%tHjm7Nph`Wp^`[l","fields":{"VALUE":"BUTTON_ANY"}}}}}},"DO":{"block":{"type":"blockIfElse","id":"vUrZl,brDQ9ekj~`;Ijv","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"$B^X;K2Xp#ItW/zd0I{G"},"block":{"type":"blockButtonIsPressed","id":"xOjf}z33KSKNy#[!LQQ(","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"[{11^cxSI3nRd[|#DSIa","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"GYwpm_,!og?n%N(S$tM%","fields":{"VALUE":"LEFT"}}}}}},"DO0":{"block":{"type":"blockFunctionCallerStatement","id":"SaaoH.PKTb9j]Jp*b!go","extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"cPea{rkCV^#^LFb3~0eT"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"bf:augz[%p/-%!GsTm]i","fields":{"NUM":4}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"7DxEHe3.R^;0;E+a~h4s","fields":{"NUM":0.00005}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"QaQMuX+jAR6(`Dtemn9=","fields":{"NUM":0.25}}}}}}},"next":{"block":{"type":"blockIfElse","id":"tI4#LvPvucyJH#1z@J[2","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"c0PP^H%bLYe!yiNo/yL3"},"block":{"type":"blockButtonIsPressed","id":"UOLy,zTK7o(!M32S0wM[","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"SC4W4)mA41%#o{yh9nTb","fields":{"VAR":{"id":"DW)P%6s~B!1[3Lm@kQwj","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"f)Fn5X(k7r#_eN:o|Sl9","fields":{"VALUE":"RIGHT"}}}}}},"DO0":{"block":{"type":"blockFunctionCallerStatement","id":"[DPk6lE*t3G|OPq|N^G7","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"!i8m$])Ccmuz/_hvSe~S"}}}}}}}}}}}}},{"type":"blockFunctionCallerStatement","id":"x5R/H|e2BY}g0F`64S+@","x":-392,"y":933,"enabled":false,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"!i8m$])Ccmuz/_hvSe~S"}}}]},"variables":[{"name":"red","id":"]FiS,~Ac#X}8}0Q9QcvE","type":"ColorDef"},{"name":"orange","id":"{w[nYHr9[uN8N6Ok7SZ-","type":"ColorDef"},{"name":"yellow","id":"s#WXYS=sx:9W8,du$s!N","type":"ColorDef"},{"name":"green","id":"hQ%6vkp97RG5!i;F*Fkj","type":"ColorDef"},{"name":"cyan","id":"h1)}y?ge;9:na+)V00!u","type":"ColorDef"},{"name":"blue","id":"$8pj#6KYcU:|@|q%00U]","type":"ColorDef"},{"name":"violet","id":"MY?PTjTJb|vm~m-vPsk4","type":"ColorDef"},{"name":"magenta","id":"1?Hg-cSD3]6g{$0??_q(","type":"ColorDef"},{"name":"white","id":"g$7c-ZAz+jq*eR,/$eH_","type":"ColorDef"},{"name":"none","id":"IQ8xYa{KTo{xC33=`(F.","type":"ColorDef"},{"name":"prime hub","id":"DW)P%6s~B!1[3Lm@kQwj","type":"PrimeHub"},{"name":"drive base","id":"}-jBb)fX:7~Fw%Lm%^y-","type":"DriveBase"},{"name":"distance sensor","id":"CZTgRtBvw*/B}$=#%?kI","type":"UltrasonicSensor"},{"name":"color sensor","id":"o^CVWO0s%(A{GtbZ*@zX","type":"ColorSensor"},{"name":"color sensor 2","id":"oA5)c156:zH@0p1TVPuh","type":"ColorSensor"},{"name":"watch 2","id":"KiucSgYz4|YrG9Iw;i2i","type":"StopWatch"},{"name":"motor left","id":"fhpNFxzz:!y#9Fr^MJWa","type":"Motor"},{"name":"motor right","id":"V)AB8C:2h#/M,MZDWSMX","type":"Motor"},{"name":"motor-garra","id":",Gt^96XMm)3(#,Kv=JJQ","type":"Motor"},{"name":"Kp","id":"5h%TK:ba]B3]%:C36KR/","type":"Any"},{"name":"Ki","id":"VxzB=2jHv5^x1=s3{K=S","type":"Any"},{"name":"Kd","id":"La4}nGUK__|[$k(G=jWp","type":"Any"},{"name":"Error","id":"GC4DP#Epy[P6$O7Hw!zE","type":"Any"},{"name":"Integral","id":"2*yxy4z+l@*E=da5AH;N","type":"Any"},{"name":"Derivada","id":"uKc/o~^Q7SsGeIGS^@Kg","type":"Any"},{"name":"LastError","id":"^^Y$_($@f/ELg],cC?So","type":"Any"},{"name":"Correction","id":"NpnF=BM:^hn+b(SeAVfL","type":"Any"},{"name":"i","id":":.eyWam%,G!Vj8tT.^oJ","type":"Any"},{"name":"velocidade","id":"tn9B=mfF6uJuT~4yWCyj","type":"Any"},{"name":"P","id":"j+,ixw,dt|)SWK@K(Ds]","type":"FunctionArgument"},{"name":"D","id":"-XSYBOb.tay_M8L3H41C","type":"FunctionArgument"},{"name":"1","id":"XkNv*}y6-^}%j:,@SMMH","type":"FunctionArgument"},{"name":"Referencia","id":"BulzW;!ptdTL*w6Z[5ia","type":"FunctionArgument"},{"name":"argument 1","id":"$yGttQ[Lp?[uH*8*lSjN","type":"FunctionArgument"},{"name":"argument 2","id":"hu,]t()QKKrGzR2X]nY9","type":"FunctionArgument"},{"name":"LineFollower","id":"cPea{rkCV^#^LFb3~0eT","type":"Function"},{"name":"GyroMove","id":"[mXx9$W-bv!Mm={n_z+h","type":"Function"},{"name":"Nxs","id":"!i8m$])Ccmuz/_hvSe~S","type":"Function"},{"name":"gyroturn","id":"QJdqj@|A2/d]z~R)e5ok","type":"Function"},{"name":"PID","id":"TL[Iq5svkr*:?k.`jb=a","type":"Function"},{"name":"my task","id":"B}}7N8/E}?G5,7`Kv{[=","type":"Function"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Direction, Port, Stop
from pybricks.pupdevices import ColorSensor, Motor, UltrasonicSensor
from pybricks.robotics import DriveBase
from pybricks.tools import StopWatch, multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub()
color_sensor = ColorSensor(Port.C)
color_sensor_2 = ColorSensor(Port.D)
distance_sensor = UltrasonicSensor(Port.E)
watch_2 = StopWatch()
motor_left = Motor(Port.A, Direction.CLOCKWISE)
motor_right = Motor(Port.B, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(motor_left, motor_right, 55, 177)
motor_garra = Motor(Port.F, Direction.CLOCKWISE)

# Initialize variables.
Kp = 0
Ki = 0
Kd = 0
Error = 0
Integral = 0
Derivada = 0
LastError = 0
Correction = 0
i = 0
velocidade = 0

async def PID(argument_1, argument_2):
    global Error, Integral, Derivada, Correction
    await wait(1)
    Error = argument_1 - argument_2
    Integral = Integral + Error
    Derivada = Error - LastError
    Correction = Kp * Error + (Ki * Integral + Kd * Derivada)

async def LineFollower(P, my_1, D):
    global Integral, Kp, Ki, Kd, velocidade, i, LastError
    await wait(1)
    # Descrição:
    # Este script implementa um seguidor de linha utilizando o LEGO Spike Prime e a biblioteca Pybricks.
    # O robô segue uma linha preta em um fundo branco utilizando dois sensores de luz para leitura
    # do contraste e um controlador PID para ajustes dinâmicos na direção.

    # Blocos Autorais Utilizados:
    # - PID: Controla o desvio da linha para manter o robô no trajeto ideal.

    # Configuração de Hardware:
    # - Sensores de luz: Colocados na parte frontal do robô, um à esquerda e outro à direita.
    # - Motores: Dois motores de tração para movimentação do robô.
    # - Base: Configurada com dois pontos de apoio principais, garantindo estabilidade.

    # Parâmetros do PID:
    # - Kp: Constante proporcional que controla a intensidade de correção com base no erro atual.
    # - Ki: Constante integral que compensa desvios acumulados ao longo do tempo.
    # - Kd: Constante derivativa que antecipa variações no erro para correções suaves.

    drive_base.use_gyro(True)
    Integral = 0
    Kp = P
    Ki = my_1
    Kd = D
    velocidade = 60
    i = 0
    while True:
        await wait(1)
        await PID(await color_sensor.reflection(), await color_sensor_2.reflection())
        motor_left.dc(velocidade + Correction)

        motor_right.dc(velocidade - Correction)
        await multitask(wait(1))
        if await distance_sensor.distance() <= 50 and i == 0:
            drive_base.stop()
            await drive_base.turn(90)
            await drive_base.straight(350)
            await drive_base.turn(-90)
            await drive_base.straight(500)
            await drive_base.turn(-90)
            while not (await color_sensor.reflection() <= 20 and await color_sensor_2.reflection() <= 20):
                await wait(1)
                drive_base.drive(200, 0)
            await drive_base.straight(10)
            drive_base.stop()
            await drive_base.straight(30)
            await drive_base.turn(90)
            i = i + 1
        if Integral >= 1000:
            Integral = 0
        if await distance_sensor.distance() <= 50 and i == 1:
            drive_base.stop()
            await motor_garra.run_angle(500, 200)
            await wait(2000)
        LastError = Error

async def gyroturn(P, my_1, D, Referencia):
    global Integral, Kp, Ki, Kd, i, velocidade, LastError, Correction
    await wait(1)
    # Este script implementa uma função para realizar giros precisos usando o giroscópio embutido no LEGO Spike Prime.
    # O robô realiza um giro baseado em um ângulo-alvo fornecido, utilizando controle proporcional (P) para ajustar a velocidade.

    # Blocos Autorais Utilizados:
    # - Gyro Turn: Garante giros precisos utilizando leituras do giroscópio.

    # Configuração de Hardware:
    # - Giroscópio: Integrado ao hub, utilizado para medir o ângulo de rotação do robô.
    # - Motores: Dois motores de tração para movimentação do robô.

    # Parâmetros:
    # - Kp: Constante proporcional para ajustar a intensidade da correção durante o giro.
    drive_base.use_gyro(True)
    prime_hub.imu.reset_heading(0)
    Integral = 0
    Kp = P
    Ki = my_1
    Kd = D
    i = 0
    velocidade = Referencia
    while not abs(prime_hub.imu.heading()) >= abs(velocidade):
        await wait(1)
        await PID(prime_hub.imu.heading(), velocidade)
        if abs(Error) <= 60:
            Correction = 60
        if velocidade >= 0:
            motor_left.dc(Correction * 1)

            motor_right.dc(Correction * -1)
            await multitask(wait(1))
        else:
            motor_left.dc(Correction * -1)

            motor_right.dc(Correction * 1)
            await multitask(wait(1))
            LastError = Error
    drive_base.stop()
    print(prime_hub.imu.heading())

async def Nxs():
    global i
    await wait(1)
    i = 0
    drive_base.use_gyro(True)
    drive_base.settings(turn_rate=425)
    await drive_base.straight(200)
    for count in range(6):
        await wait(1)
        await GyroMove()
        await drive_base.straight(-55)
        await gyroturn(-0.8, 0.001, 0.02, 89.558)
    i = 6
    await GyroMove()
    await motor_garra.run_angle(500, 180)
    i = i + 1
    await gyroturn(-0.8, 0.001, 0.02, 90)
    await drive_base.straight(-30)
    await gyroturn(-0.8, 0.001, 0.02, 90)
    for count2 in range(6):
        await wait(1)
        await GyroMove()
        i = i + 1
        await drive_base.straight(-70)
        await gyroturn(0.8, 0.001, 0.02, -90)
    await GyroMove()
    await motor_garra.run_angle(500, -200)

async def GyroMove():
    global Integral, Kp, Ki, Kd, LastError
    await wait(1)
    # Este script implementa uma função para movimentação reta utilizando o giroscópio embutido no LEGO Spike Prime.
    # O robô mantém sua trajetória ajustando dinamicamente os motores com base no desvio angular lido pelo giroscópio,
    # utilizando um controlador PID para máxima precisão.

    # Blocos Autorais Utilizados:
    # - Gyro Move: Garante movimentação precisa e linear com base nas leituras do giroscópio.

    # Configuração de Hardware:
    # - Giroscópio: Integrado ao hub, utilizado para monitorar a orientação angular.
    # - Motores: Dois motores de tração para movimentação do robô.

    # Parâmetros do PID:
    # - Kp: Constante proporcional para correção com base no erro atual.
    # - Ki: Constante integral para corrigir desvios acumulados ao longo do movimento.
    # - Kd: Constante derivativa para corrigir mudanças rápidas no erro.

    # Funções Principais:
    # 1. `gyro_move()`: Movimenta o robô para frente ou para trás, mantendo a direção.

    # Notas:
    # - Resete o giroscópio antes de começar a movimentação.
    # - Ajuste os valores de Kp, Ki e Kd para o comportamento desejado.
    # - Teste em diferentes superfícies para validar os ajustes.
    prime_hub.imu.reset_heading(0)
    watch_2.reset()
    Integral = 0
    Kp = 20
    Ki = 0.0001
    Kd = 0.2
    while not (await color_sensor.reflection() <= 20 and await color_sensor_2.reflection() <= 20):
        await wait(1)
        await PID(prime_hub.imu.heading(), 0)
        motor_left.dc(75 - Correction)

        motor_right.dc(75 + Correction)
        await multitask(wait(1))
        LastError = Error
        if await distance_sensor.distance() <= 60 and i == 6:
            break
    drive_base.stop()

async def main():
    await LineFollower(4.6, 0.028, 0.0001)


run_task(main())