# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":156,"y":18,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"bH;,){!6_OVV}w@g{o-]","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"?FNFR:2rTEYM#]6-*h5o","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"on/afz,PI8[S+Cz]t@H6","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"|^9Lj,6Ibect{N?c)*-V","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"ckQ4G[}2-MIMA%vDnnl}","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":")P|n!,J7CR0GIJ3yNSDt","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"KECL4h4-c(dipt:}b#R@","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"Cr4(q7k2=ktcm#?SyMnJ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"gWw6+`.Txwv{Sw,XQ)qo","fields":{"NAME":"C"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"80TEM:PI}:V5xLT~qX4h","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"$s(@w9ZT#x1#,*Kz|g,l"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"VYv1/Li~ctC9ct:qF(yF","fields":{"NAME":"D"}}}},"next":{"block":{"type":"variables_setup_any","id":"xP*K79xS~_VS9AWB7*aT","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"7:X!iHX.2|ytQxZn,)$#","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"M#*[.JLF^`g#4g-{y1=y","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"j4wEN4d1mrkm3(q-E0HT","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"hUF;H3Y%Jj~YH5Koyh4d","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"?mWCAo2n{Ov`[?83fCVR","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"Y@_(Q%8eH7=p{%-iFtM[","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"a-^g#3)oIWK+:300Bh$d","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"a^VQE2uVN5oYj.s=ZVD}","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"sV)R-GnZK3etA./[;?X]","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"`t^-E.5?j6~.HWS`Tgps","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"4PNcQ}u5TT.1ok~DDGil","fields":{"NUM":8}}}},"next":{"block":{"type":"variables_setup_any","id":"8[_E5k~KP[z4aQ)b1W:[","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"tqOK$7HZsE?ikT_y[|{n","fields":{"NUM":0.001}}}},"next":{"block":{"type":"variables_setup_any","id":"qP6JFs~~vW_a:#mQ6D2G","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":":a2iSB|tA5}rM%1rebU*","fields":{"NUM":0.01}}}},"next":{"block":{"type":"variables_set_drive_base","id":"Qi:xbD#=[6dqo_OE)mez","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"I@`rmy+Bg=;[81.,c@,O","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"/wI6|xxV+5btl/i[0C4d","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"xG_Ue?MD5.U{/#o#OI=.","fields":{"VALUE0":30}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"gLjW$|G:):HJzamnI8m[","fields":{"VALUE0":165}}}},"next":{"block":{"type":"variables_set_ultrasonic_sensor","id":"Z?ox.uBy{78Bqqd92|th","fields":{"VAR":{"id":"o^QQrxUghtnjD~0O@Q;-"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"{!51d95c)zMRzTsXX}u2","fields":{"NAME":"E"}}}},"next":{"block":{"type":"variables_set_motor","id":"5kk0uJumW;E$b4ht+!IV","fields":{"VAR":{"id":"!%`Kq=7:A`fPCzL0{YvG"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"sF]ZeyS7vLE#yeqpDOYI","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"Ew[3kQ?qxs-BYoQ/@DwF","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_any","id":"WWP@vSj?Scj9Q5N{@Rr2","fields":{"VAR":{"id":"FdaR?h:*d`VJy35Ed?hY"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"9Re(E4L%*4+TNm]tz2~L","fields":{"NUM":0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":114,"y":817,"deletable":false,"next":{"block":{"type":"blockMotorDuty","id":"Qd$DEcDAnB]06bBfhUF6","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"=~f^Y7}MH#cPQlVcv;u1","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"9vc!AKpLDJ0IdWKtN3Gf","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockMotorConfigure","id":"f(%*Sv{-~f`1!HB/m/re","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_MAX_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"kkG:5:nWxkzqdTY^UV+n","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"L(:;{t@zpExNBJ0-,[=;","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockMotorConfigure","id":"btwI9{Q?`MN/ZNv,9)+A","extraState":{"optionLevel":2},"fields":{"METHOD":"MOTOR_MAX_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"Q{#CO_|B0`Q,QwG=x/Me","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"LFn2c6x[gYUaSBVPhslE","fields":{"VALUE0":1000}}}},"next":{"block":{"type":"blockMotorConfigure","id":"RYhG})8%Q-=#IC9qy^24","extraState":{"optionLevel":4},"fields":{"METHOD":"MOTOR_MAX_VOLTAGE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"+o)M@h(tBr4do9pm=7wX","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_voltage","id":"|*P~[#RKD8-@:BiSUX%f","fields":{"VALUE0":9000}}}},"next":{"block":{"type":"blockMotorConfigure","id":"n;+J?MM*Ftv4lBc.KGxz","extraState":{"optionLevel":4},"fields":{"METHOD":"MOTOR_MAX_VOLTAGE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"1z[E{49i#|d+E|Fnxy`C","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"ARG0":{"shadow":{"type":"unit_voltage","id":"(RS$`0qNBL?fukBHqB_4","fields":{"VALUE0":9000}}}},"next":{"block":{"type":"blockFlowWhile","id":"0*e8zJyrU~BTJ%Oa{Ju=","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"17N}69+^fM}M=$7nygyV"}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"TAs%Qi/1-j:Jj]+k?-|,","extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"c4fY_z8T9i/x3o=8@V9Q"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"=63M?(-*P%n6gj;gNMAm","fields":{"NUM":0.2}},"block":{"type":"blockVariableGetValue","id":"}3AJI-s!Rn`nfX7J$?h#","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"AgRfgh;{7o{HwL*a|?[E","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN","name":"kp","type":"Any"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"[SRwSU#l]~8e59=$lXV%","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":")8m;r3Z4?2?t-[,dVa*#","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":",mEO8xyGN4k_.0.AB(|O","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|","name":"ki","type":"Any"}}}}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"c,8,!xB.vNOQfA0d$Tq|","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"CT.a,^@Xp]?(WTsbJ50[","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"3srnCW$|c_`N3TV7aXjs","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He","name":"kd","type":"Any"}}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"4|vo4+EWgyDl79=9%FYA","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"29,xE]dj-;UYfu7RP:RL","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"N;#N=oOFOU(BgDpF4:d{","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"R:a/N|J-hJ_3vhZMCC9{","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"96A3wU:6lo@SF3m;/S5,","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"=aBOZDa5;1S9EPIWex7Z","fields":{"NUM":100}}},"B":{"shadow":{"type":"blockMathNumber","id":"dl5ZL_LWoG#Ne]t`W$mf","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"(}xUeG}RRhA@?acxOlX`","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"uK[2^Tz5EHSco~V8tN8`","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"ZYI8}fs5:ne%c+4oP.Iq","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"4f2snVLGL2ERU;RdFlHm","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"[N6,):yXBNo1AqTkAV:C","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"*L=27m*1$]o`X^tAHZ:i","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"WFcN8jj%Va%Aj*-dX_j+","fields":{"NUM":100}}},"B":{"shadow":{"type":"blockMathNumber","id":"!:VFqmMbA2iDgbYBKu|t","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"a(8(G9TFYs-xd)3Qbn0n","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"KMSF_xW{yb-!.L5I8{Bs","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"X1L1aAh}MVt5|Bi=DPE{","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"mK(cV1Ij{$UbLN2}2:hn"},"block":{"type":"blockLogicOperation","id":"X/ur(a]/`+MKmnMp+00]","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"/D81x`t9L0,750Ljr!m|"},"block":{"type":"blockLogicCompare","id":"6k|C]ByN+5_:A(P4B^$9","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"c}Cdpt-t9P;z+lJYM5)8","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"vj9/h28{bG-~Qn@Hvz)5","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"XWySPdGX+c4?V;b7Xrj*","fields":{"VAR":{"id":"o^QQrxUghtnjD~0O@Q;-","name":"distance sensor 2","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"Rtg8w:,v:5O1^QA7Ob01","fields":{"NUM":50}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"bq+pVo7~3EvCwyy}Fy[^"},"block":{"type":"blockLogicCompare","id":"q)r{f-OcY[Y~3QRGttY0","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"dM1zKCRkJ|Mms5YW/yS*","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"WkRB2xB!5ZwN6]E6I9aB","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"3|;m7wEnj2l~+(y{5ued","fields":{"VAR":{"id":"FdaR?h:*d`VJy35Ed?hY","name":"data","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"Aunm1`.GBLQk:`V8LC-N","fields":{"NUM":0}}}}}}}}},"DO0":{"block":{"type":"blockDriveBaseStop","id":"n}g9CjnWK0ol_kZ^uJJq","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"D1YQr2b3[WuR7_v3$C*[","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"bhp=d6}zXhhR$P98QnCT","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"Uta2Y?xrUGR~XCq^1#xV","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"[NazRp|r-]hVYB+lkxtr","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"qkRZJrFh}g0AH1L4cikn","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"=YG1QY3Vq)xo3D$hrLSn","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"To1L*V,U{HXUZ;78Oi6l","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"$Cy^*RV7WkrW2FLOMp,8","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"(MnVLq-KzGwSA(4I3-1`","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"8UO=qZJJX(!WU`qseS+,","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"7Pip8Lvmf`!DL~eqd,vo","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"/UZ8B3r;wE#bxr)x(*;a","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"Wu44uNqmKB~,xP,ahz%k","fields":{"VALUE0":-90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"=!,:KiI~65Bn^KiKR8xG","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"5I6wCBHE!Y1T1.6OdxW%","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"PZw3za.ZdCMf+TgdGy)r","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"(j%~4il*|;xyWU*_!Hc}","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":".9Ow`}e8(H5trlU,BJb0","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"$v$TnY`s%.OQubBgs#SK","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"skkG9X-i4o1yPhadZ+S,","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"2u]yw,^vGvFqEXx4qC{z","fields":{"VALUE0":-90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"R:?mcx$z6@w+7{FFI7.+","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"Bn@r?E{N:UGH%yAI3;GS","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":",vs)_zI2B#Rjn]-9+qcK","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"dsO-iw}EQtI{Y[BmaEs@","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"1Br1=YZM?3gS*.m3Kp0@","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"(T3=|8~4y8N_WVjD:4-M","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":",CfN-entk,DSBRW]Y;_t","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"{;vJo3r*ayUTpvpu_bjC","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"uYQqxM*[,kTs_t@}OZ2s","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"yI[Hr1/#QfGoinv*v;g=","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"lz:_p`K/k}05,TzGz.DI","fields":{"VAR":{"id":"FdaR?h:*d`VJy35Ed?hY","name":"data","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"j2.3/$5RQxV7`iE@ww$`","fields":{"NUM":1}}}}}}}}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"WNMqt1k-M:ET?qKrQ3Ta","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"mK(cV1Ij{$UbLN2}2:hn"},"block":{"type":"blockLogicOperation","id":"T*GJ_r,YvvasM|$]:Nj_","fields":{"OP":"AND"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"/D81x`t9L0,750Ljr!m|"},"block":{"type":"blockLogicCompare","id":"1^LvZ!at57TM|,:~p@!^","fields":{"OP1":"LTE"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"c}Cdpt-t9P;z+lJYM5)8","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"@}$(?;qVR^9MDfw_%;54","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"62@0f~VO.5#+W[e|PtjM","fields":{"VAR":{"id":"o^QQrxUghtnjD~0O@Q;-","name":"distance sensor 2","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"X}s9rfv46}N{c}xg%.fc","fields":{"NUM":50}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"bq+pVo7~3EvCwyy}Fy[^"},"block":{"type":"blockLogicCompare","id":"Hl$hDN41g75@B2i1~2)V","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"dM1zKCRkJ|Mms5YW/yS*","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"ifBEYq$V2/D?W1rbmYUD","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"f7az40X#~zb7Lb]|mid)","fields":{"VAR":{"id":"FdaR?h:*d`VJy35Ed?hY","name":"data","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"Y;dPHm9ag|~b%,_l,_o~","fields":{"NUM":1}}}}}}}}},"DO0":{"block":{"type":"blockDriveBaseStop","id":"8NIwg)b9FbyA7kZ|6*oS","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"e~JN5_*P~^BLv134k//c","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"~42W%~/3,LS1w@jKe4e_","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"{t))%#!t2Bk-Ryy|n_wS","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"1824fO:fr3bK6+YR:;#)","fields":{"VAR":{"id":":pPBh%zd/^+[*s}2E.Az","name":"drive base 2","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"xm@Y+O$5Bm)AA~[lScbF","fields":{"VALUE0":-35}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"$l7}(KE(]oeuo?5DqmeT","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockMotorRun","id":")X-Kn35vvGYN)K+nmEqI","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":";`bEVG_TNfr2OzBB[Fg0","fields":{"VAR":{"id":"!%`Kq=7:A`fPCzL0{YvG","name":"motorgarra","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":",)7Xr)%Z=a!b!P}yL^#%","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"}f_kWokUO8*6VBN3^Xi%","fields":{"VALUE0":180}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"#3oi-qZXCJQNnuvC5Pna","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"{]v*7x1mJqlr%lOw/}=r","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"blW][/jDe*o%v@WxqZas","fields":{"VAR":{"id":"FdaR?h:*d`VJy35Ed?hY","name":"data","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"U+^vy-Y7,oHne#;!BUXx","fields":{"NUM":2}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockVariableGetValue","id":"DtIFD#/[h952o;}=R!+n","x":900,"y":364,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!F3y+7J8F@H4l+z/R3[%","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}},{"type":"variables_setup_function","id":"Sa9JF0Q1a2/hf1ur;:kz","x":1124,"y":482,"extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"c4fY_z8T9i/x3o=8@V9Q"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"Y78=}4_aCN1BBE?U%Bq1","fields":{"VAR":{"id":"^V#pzX/wPx7]oV4f.l=]","name":"kpp","type":"FunctionArgument"}}}},"ARG1":{"shadow":{"type":"variables_setup_function_argument","id":"!j5T0c1]}`_f3!G_Thh:","fields":{"VAR":{"id":"fsltF%affIs_=:67no_V","name":"kii","type":"FunctionArgument"}}}},"ARG2":{"shadow":{"type":"variables_setup_function_argument","id":"A9oDJQ5:ohz!@W5]_RVS","fields":{"VAR":{"id":"xd5|KEz8j{W9M_VBzsvS","name":"kdd","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockVariableSetValue","id":"ruskt}{p5yT/Ls+wg,+=","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"|(D7)OBc7{0P^pwQu[!$","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"%KV3]Ou+.zT}eDk8:KNw","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"mO]/)ASwwiO!*T)}pqpe","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockLightReflection","id":"w+~tIPz?y6.p_dYO,@4z","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"_v%wQQ^TQ2?(ZUR93K?U","fields":{"VAR":{"id":"Cr4(q7k2=ktcm#?SyMnJ","name":"sensor esquerdo","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockLightReflection","id":"|u8jByAQK|e2j0^vB-F@","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"|!%$k_{la5S$xj9`}{$k","fields":{"VAR":{"id":"$s(@w9ZT#x1#,*Kz|g,l","name":"sensor direito","type":"ColorSensor"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"s+SaP5gk07Y+iA|Z.^_U","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"q]sklx=!#6HuvPOQI:Il","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"^xw!I#ag$:zUpB-=j~N!","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"2Te0#QetY^@V{BxsWtcX","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"wM=S@TYtdY_Ftu:j[3_+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"#^K+_Wj6JF`2{y(`B=*+","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Br25qG,QV7d7ov|,6.`q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"wjz)q{hF~h#Jl98XO)3I","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"](]enZ-C|?W=XKMnUn}J","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/{rt/{TA/m3Mvp=-1l1,","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|","name":"derivada","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"qG?Y[Z$]LmTP.R?R7Aq`","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"PyW}^6Rra7ZX8v#n7U|G","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"DUX40?*+(82[6US|u5,y","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"]([y6_zY`Qu)ZeVujB%p","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"hd.Ep5M~WARFfF^d3x72","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"8F7B4X{uC!F%:]lUa9Lz","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K","name":"erro-final","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"E@)kAE5^)4Uv}?9bIk[$","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"*sa1_MeoHK.tAly@[D(Z","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"YQgbvFYQDuGbmK.UJCYW","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"DU|bKtV_9FVvxn$cc0_6","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":")pVUJ|:?L3Jnp8~LhZH;","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"~aXNW`zP{_kC+Fkh7o/H","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"n1M%zUZLkhqjk*xso!dZ","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"8R]{L#aN[Z%#zBSWnIcc","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"i/z]zWV^i}Em:xzT`/[N","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN","name":"kp","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"Da6MOs8|0e78,t$SZ3gj","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"OMPGV`j$@_=@-1jY0CB[","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"$VX2`/MTbF]LaCxNx`yZ","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"reQZdIbuL1?g5JJPYduW","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/hh.;fC-XeW~d|s.Q!=`","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"O]`oZ~6f2XS^y{fISWvv","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"3]yFDy;R!ecRudz}MN^t","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%@FEWnu-ghS,K[NF2;]H","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|","name":"ki","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"6eXon:sQy0qRaE{5*]ZF","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"$VX2`/MTbF]LaCxNx`yZ","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"i,4![h!S[YC*l4;LNT~W","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%L(O9T,fwYKr%k^Ee5+)","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|","name":"derivada","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"O]`oZ~6f2XS^y{fISWvv","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"PTw|.!B:IrXZojeXQF^0","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"NXyLQJ[DZzs2kMI4a6O2","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He","name":"kd","type":"Any"}}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"nee5TVO8U$NeolPW){v+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"pDF+6=aWX?aPv3Nj|Z5|","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K","name":"erro-final","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"[A=9[jw1p5[]N,wcLumE","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"1i##m,q2hrn(Rt|S+CZ~","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"{h5OnQc%kx8HDj4Q,oh]","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}}}}}}}}}}}}}}},{"type":"variables_set_drive_base","id":"z5(aV|*!zyWo!x!`Q_^;","x":559,"y":232,"enabled":false,"fields":{"VAR":{"id":"n017jGdCMJz2wk?K1SWF"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"!3Q*:C^yL@WD/KdIpOT%","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"U,^(7y/WgDG_A4ya-t*T","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"9_wK;JZh/:~S5;P9wsKk","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"w4)n:0JJwjM*Gp=%;1`?","fields":{"VALUE0":65}}}}}]},"variables":[{"name":"red","id":"-ieWd,tClm]Ymdxr4VU/","type":"ColorDef"},{"name":"orange","id":"-?S%k:?-G}I7Gg*s.eai","type":"ColorDef"},{"name":"yellow","id":"NW5a%U%#~sj}d[9c4;q/","type":"ColorDef"},{"name":"green","id":"MduotLUg1Jz-X,$g/EHe","type":"ColorDef"},{"name":"cyan","id":"H=lEnKwM7ecJu#|*aw6L","type":"ColorDef"},{"name":"blue","id":"AX9_QjmKN[zW|H1mWA[e","type":"ColorDef"},{"name":"violet","id":"OYf6wtP!A()}/r=yY1:q","type":"ColorDef"},{"name":"magenta","id":"PvEY6v8,s7N9v[950dH@","type":"ColorDef"},{"name":"white","id":"p]5spn+PRZ`ZkWY][=`I","type":"ColorDef"},{"name":"none","id":"sQA[[PMY+~EsIQ!dS;vz","type":"ColorDef"},{"name":"sensor esquerdo","id":"Cr4(q7k2=ktcm#?SyMnJ","type":"ColorSensor"},{"name":"sensor direito","id":"$s(@w9ZT#x1#,*Kz|g,l","type":"ColorSensor"},{"name":"distance sensor 2","id":"o^QQrxUghtnjD~0O@Q;-","type":"UltrasonicSensor"},{"name":"drive base","id":"n017jGdCMJz2wk?K1SWF","type":"DriveBase"},{"name":"drive base 2","id":":pPBh%zd/^+[*s}2E.Az","type":"DriveBase"},{"name":"motoresquerdo","id":"wQj:d@TaY#,Uzjq1Db}b","type":"Motor"},{"name":"motordireito","id":"vvKP[ml~X1R[mF@=51oQ","type":"Motor"},{"name":"motorgarra","id":"!%`Kq=7:A`fPCzL0{YvG","type":"Motor"},{"name":"erro","id":"-GnZ+U^IloC7PXUcBwhj","type":"Any"},{"name":"correcao","id":"lTg]Rwr]pRX#t17pG#DG","type":"Any"},{"name":"integral","id":"aI$_c*alnp1_pf*JqlM%","type":"Any"},{"name":"erro-final","id":"+kM2FtoU-7w0rgy?k!;K","type":"Any"},{"name":"derivada","id":"A!_inOVutis-Vj{[x3U|","type":"Any"},{"name":"kp","id":"R|]br05zzU[gG%8qvQJN","type":"Any"},{"name":"ki","id":"QBMTzU*#MAHPs)j8usK|","type":"Any"},{"name":"kd","id":"1%jKzWu(L!V+z|,j-{He","type":"Any"},{"name":"data","id":"FdaR?h:*d`VJy35Ed?hY","type":"Any"},{"name":"PID","id":"c4fY_z8T9i/x3o=8@V9Q","type":"Function"},{"name":"kpp","id":"^V#pzX/wPx7]oV4f.l=]","type":"FunctionArgument"},{"name":"kii","id":"fsltF%affIs_=:67no_V","type":"FunctionArgument"},{"name":"kdd","id":"xd5|KEz8j{W9M_VBzsvS","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.parameters import Direction, Port, Stop
from pybricks.pupdevices import ColorSensor, Motor, UltrasonicSensor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
sensor_esquerdo = ColorSensor(Port.C)
sensor_direito = ColorSensor(Port.D)
distance_sensor_2 = UltrasonicSensor(Port.E)
motoresquerdo = Motor(Port.A, Direction.COUNTERCLOCKWISE)
motordireito = Motor(Port.B, Direction.CLOCKWISE)
drive_base_2 = DriveBase(motoresquerdo, motordireito, 30, 165)
motorgarra = Motor(Port.F, Direction.COUNTERCLOCKWISE)

# Initialize variables.
erro = 0
correcao = 0
integral = 0
derivada = 0
erro_final = 0
kp = 8
ki = 0.001
kd = 0.01
data = 0

async def PID(kpp, kii, kdd):
    global erro, integral, derivada, correcao, erro_final
    await wait(1)
    erro = await sensor_esquerdo.reflection() - await sensor_direito.reflection()
    integral = integral + erro
    derivada = erro - erro_final
    correcao = erro * kp + (integral * ki + derivada * kd)
    erro_final = erro

async def main():
    global data
    motordireito.dc(1000)
    motordireito.control.limits(speed=1000)
    motoresquerdo.control.limits(speed=1000)
    motordireito.settings(max_voltage=9000)
    motoresquerdo.settings(max_voltage=9000)
    while True:
        await wait(1)
        await PID(kp, ki, kd)
        motoresquerdo.dc(100 + correcao)

        motordireito.dc(100 - correcao)
        await multitask(wait(1))
        if await distance_sensor_2.distance() <= 50 and data == 0:
            drive_base_2.stop()
            await drive_base_2.turn(90)
            await drive_base_2.straight(250)
            await drive_base_2.turn(-90)
            await drive_base_2.straight(250)
            await drive_base_2.turn(-90)
            await drive_base_2.straight(250)
            await drive_base_2.turn(90)
            data = 1
        if await distance_sensor_2.distance() <= 50 and data == 1:
            drive_base_2.stop()
            await drive_base_2.straight(-35)
            await motorgarra.run_angle(500, 180)
            data = 2


run_task(main())