# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":156,"y":18,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"bH;,){!6_OVV}w@g{o-]","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"?FNFR:2rTEYM#]6-*h5o","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"on/afz,PI8[S+Cz]t@H6","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"|^9Lj,6Ibect{N?c)*-V","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"ckQ4G[}2-MIMA%vDnnl}","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":")P|n!,J7CR0GIJ3yNSDt","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"KECL4h4-c(dipt:}b#R@","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"Cr4(q7k2=ktcm#?SyMnJ"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"gWw6+`.Txwv{Sw,XQ)qo","fields":{"NAME":"C"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"80TEM:PI}:V5xLT~qX4h","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"$s(@w9ZT#x1#,*Kz|g,l"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"VYv1/Li~ctC9ct:qF(yF","fields":{"NAME":"D"}}}},"next":{"block":{"type":"variables_setup_any","id":"xP*K79xS~_VS9AWB7*aT","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"7:X!iHX.2|ytQxZn,)$#","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"M#*[.JLF^`g#4g-{y1=y","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"j4wEN4d1mrkm3(q-E0HT","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"hUF;H3Y%Jj~YH5Koyh4d","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"?mWCAo2n{Ov`[?83fCVR","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"Y@_(Q%8eH7=p{%-iFtM[","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"a-^g#3)oIWK+:300Bh$d","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"a^VQE2uVN5oYj.s=ZVD}","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"sV)R-GnZK3etA./[;?X]","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"`t^-E.5?j6~.HWS`Tgps","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"4PNcQ}u5TT.1ok~DDGil","fields":{"NUM":-3}}}},"next":{"block":{"type":"variables_setup_any","id":"8[_E5k~KP[z4aQ)b1W:[","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"tqOK$7HZsE?ikT_y[|{n","fields":{"NUM":0.001}}}},"next":{"block":{"type":"variables_setup_any","id":"qP6JFs~~vW_a:#mQ6D2G","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":":a2iSB|tA5}rM%1rebU*","fields":{"NUM":0.01}}}},"next":{"block":{"type":"variables_setup_any","id":"?%H5)xqugdU%8UZ^ma2`","fields":{"VAR":{"id":"}6yM4K8o/makaC,@]H39"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"|D:aHv0k3c/f*;=$L+at","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set_prime_hub","id":"{]zA,,=)V-H2zSVH)31T","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj"}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":114,"y":817,"deletable":false,"next":{"block":{"type":"blockFunctionCallerStatement","id":"O(*idWAVF:@DH,q;5Gz|","extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"#qlUoYH+/uElfQD(eioQ"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"6%L0[p$I[;!,(;pL*3bK","fields":{"NUM":90}}}}}}},{"type":"blockVariableGetValue","id":"DtIFD#/[h952o;}=R!+n","x":900,"y":364,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"!F3y+7J8F@H4l+z/R3[%","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}},{"type":"variables_setup_function","id":"Sa9JF0Q1a2/hf1ur;:kz","x":624,"y":513,"extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"c4fY_z8T9i/x3o=8@V9Q"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"Y78=}4_aCN1BBE?U%Bq1","fields":{"VAR":{"id":"^V#pzX/wPx7]oV4f.l=]","name":"kpp","type":"FunctionArgument"}}}},"ARG1":{"shadow":{"type":"variables_setup_function_argument","id":"!j5T0c1]}`_f3!G_Thh:","fields":{"VAR":{"id":"fsltF%affIs_=:67no_V","name":"kii","type":"FunctionArgument"}}}},"ARG2":{"shadow":{"type":"variables_setup_function_argument","id":"A9oDJQ5:ohz!@W5]_RVS","fields":{"VAR":{"id":"xd5|KEz8j{W9M_VBzsvS","name":"kdd","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockVariableSetValue","id":"s+SaP5gk07Y+iA|Z.^_U","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"q]sklx=!#6HuvPOQI:Il","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"^xw!I#ag$:zUpB-=j~N!","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"2Te0#QetY^@V{BxsWtcX","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"wM=S@TYtdY_Ftu:j[3_+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"#^K+_Wj6JF`2{y(`B=*+","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Br25qG,QV7d7ov|,6.`q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"wjz)q{hF~h#Jl98XO)3I","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"](]enZ-C|?W=XKMnUn}J","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/{rt/{TA/m3Mvp=-1l1,","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|","name":"derivada","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"qG?Y[Z$]LmTP.R?R7Aq`","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"PyW}^6Rra7ZX8v#n7U|G","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"DUX40?*+(82[6US|u5,y","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"]([y6_zY`Qu)ZeVujB%p","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"hd.Ep5M~WARFfF^d3x72","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"8F7B4X{uC!F%:]lUa9Lz","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K","name":"erro-final","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"E@)kAE5^)4Uv}?9bIk[$","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"*sa1_MeoHK.tAly@[D(Z","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"YQgbvFYQDuGbmK.UJCYW","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"DU|bKtV_9FVvxn$cc0_6","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":")pVUJ|:?L3Jnp8~LhZH;","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"~aXNW`zP{_kC+Fkh7o/H","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"n1M%zUZLkhqjk*xso!dZ","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"8R]{L#aN[Z%#zBSWnIcc","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"i/z]zWV^i}Em:xzT`/[N","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN","name":"kp","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"Da6MOs8|0e78,t$SZ3gj","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"OMPGV`j$@_=@-1jY0CB[","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"$VX2`/MTbF]LaCxNx`yZ","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"reQZdIbuL1?g5JJPYduW","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"/hh.;fC-XeW~d|s.Q!=`","fields":{"VAR":{"id":"aI$_c*alnp1_pf*JqlM%","name":"integral","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"O]`oZ~6f2XS^y{fISWvv","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"3]yFDy;R!ecRudz}MN^t","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%@FEWnu-ghS,K[NF2;]H","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|","name":"ki","type":"Any"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"6eXon:sQy0qRaE{5*]ZF","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"$VX2`/MTbF]LaCxNx`yZ","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"i,4![h!S[YC*l4;LNT~W","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%L(O9T,fwYKr%k^Ee5+)","fields":{"VAR":{"id":"A!_inOVutis-Vj{[x3U|","name":"derivada","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"O]`oZ~6f2XS^y{fISWvv","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"PTw|.!B:IrXZojeXQF^0","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"NXyLQJ[DZzs2kMI4a6O2","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He","name":"kd","type":"Any"}}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockVariableSetValue","id":"nee5TVO8U$NeolPW){v+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"pDF+6=aWX?aPv3Nj|Z5|","fields":{"VAR":{"id":"+kM2FtoU-7w0rgy?k!;K","name":"erro-final","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"[A=9[jw1p5[]N,wcLumE","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"1i##m,q2hrn(Rt|S+CZ~","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"{h5OnQc%kx8HDj4Q,oh]","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}}}}}}}}}}}}}}}},{"type":"variables_set_drive_base","id":"z5(aV|*!zyWo!x!`Q_^;","x":637,"y":250,"enabled":false,"fields":{"VAR":{"id":"n017jGdCMJz2wk?K1SWF"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"!3Q*:C^yL@WD/KdIpOT%","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"U,^(7y/WgDG_A4ya-t*T","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"9_wK;JZh/:~S5;P9wsKk","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"w4)n:0JJwjM*Gp=%;1`?","fields":{"VALUE0":65}}}}},{"type":"blockVariableSetValue","id":"ruskt}{p5yT/Ls+wg,+=","x":1133,"y":434,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"|(D7)OBc7{0P^pwQu[!$","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"%KV3]Ou+.zT}eDk8:KNw","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"mO]/)ASwwiO!*T)}pqpe","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"m/R%XfWBk/)aBX0/x.tj","fields":{"NUM":1}},"block":{"type":"blockLightReflection","id":"w+~tIPz?y6.p_dYO,@4z","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"_v%wQQ^TQ2?(ZUR93K?U","fields":{"VAR":{"id":"Cr4(q7k2=ktcm#?SyMnJ","name":"sensor esquerdo","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"@h^j^{Yf/i@xj*pAWw}5","fields":{"NUM":1}},"block":{"type":"blockLightReflection","id":"|u8jByAQK|e2j0^vB-F@","inputs":{"VAR":{"shadow":{"type":"variables_get_light_intensity_device","id":"|!%$k_{la5S$xj9`}{$k","fields":{"VAR":{"id":"$s(@w9ZT#x1#,*Kz|g,l","name":"sensor direito","type":"ColorSensor"}}}}}}}}}}}},{"type":"variables_setup_function","id":"_3}e;|9F@RE{@*3R@X|1","x":482,"y":1368,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":"#qlUoYH+/uElfQD(eioQ"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"W3D)jm-CLX/*Iv9cLc(l","fields":{"VAR":{"id":"4Vjl_^=#~(u3Gg)Z%|L%","name":"ref","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockImuResetHeading","id":"0Db^j*:y7l)k/dTrgR))","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"xs6cTPkBH)r%Vq,Gr4@.","fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj","name":"prime hub 2","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"|Qfu+%|H`zN0u=oLox?k","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"OF7KBR.Dp!GUZ(A00iy!","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"Hq6B118WVb1=l07F|f$J"},"block":{"type":"blockLogicCompare","id":"Ho=[T5Smrx`,iRq))2$]","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"x7%t1+B=Qa]:at9Mm3Po","fields":{"NUM":3}},"block":{"type":"blockImuGetHeading","id":"`!*O;R,i?}V1iQ,`Ppqj","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"atiGFY*:_7JfMY:N?su6","fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj","name":"prime hub 2","type":"PrimeHub"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"THOee(ToRAWtXtbB4kyw","fields":{"NUM":4}},"block":{"type":"variables_setup_function_argumentConstant","id":"!UZN2!2d%qB8JihK~N)a","fields":{"VAR":{"text":"ref"}}}}}}},"DO":{"block":{"type":"blockVariableSetValue","id":"*P6zFu4_SRy1o?tt-2CR","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"N`{Z9c71|_vu[VhHI$wC","fields":{"VAR":{"id":"-GnZ+U^IloC7PXUcBwhj","name":"erro","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"-ma.0|Z-wF%SXY]CK;+a","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":":T7bE(T{,TA?_6s{(,i=","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"k2q~iD9fP*KwCAz$#`EI","fields":{"NUM":1}},"block":{"type":"blockImuGetHeading","id":"7?*M!N(EpERP~fnG}{h7","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"E|RFCD6HdVxVLK.vGq8a","fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj","name":"prime hub 2","type":"PrimeHub"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"/y[F2m8e(jF|y2(z2.$M","fields":{"NUM":1}},"block":{"type":"variables_setup_function_argumentConstant","id":"#SQQP,Y%c4fW%sokbB]Z","fields":{"VAR":{"text":"ref"}}}}}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"KF?/%m={,KM-nXR6}DPq","extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"c4fY_z8T9i/x3o=8@V9Q"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"ozB@HO}69k!rEN6.Fu/F","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"!CE)?O?+k8;r+H9PyE)m","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"a1M%4giQTmCxBqD(5]os","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN","name":"kp","type":"Any"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"wRp{oO45:B.U~]wEU7N-","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"{e-6F3$-HR7yfQz/l()s","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"GEI3kJr/0N7~iy_a}pO.","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|","name":"ki","type":"Any"}}}}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"3VNWaywZ}k*6To`mz]w}","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"qtvHiljl;%V6nlDDz[v!","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":".9_#nq`nC[AfCCN:yD!I","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He","name":"kd","type":"Any"}}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"$UGrR^/T5o@Y-+#!Oo8z","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"$J,iVEHYUCZ69ECqxiG*","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"2?SJ/w5j#D=/1~-#o4I*","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"R:a/N|J-hJ_3vhZMCC9{","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"2YNu~!Yr*fycFM$1y[I_","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cjh]Wjy]JRYYnLV]+)4l","fields":{"NUM":1}}},"B":{"shadow":{"type":"blockMathNumber","id":"dl5ZL_LWoG#Ne]t`W$mf","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"Zf{0sUC.n;2Im_Sr=`l[","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"5Y]tt5ryWbGF(6/fHteW","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"Z.6@w|!q:h2%?cp=i]Xr","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"Fl^mm5Kp%V,3;+6)iiii","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"[N6,):yXBNo1AqTkAV:C","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"r?oD^bqHKBY4E}pP:0F4","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"!Y~RLlF):p|@!$*rzv}Y","fields":{"NUM":-1}}},"B":{"shadow":{"type":"blockMathNumber","id":"!:VFqmMbA2iDgbYBKu|t","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"q4NZe%T3{=v}yU.aE*#;","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"z=07^~~tnah)Ljsd{MGz","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}}},"next":{"block":{"type":"blockPrint","id":"On;;*SozzKM,xAp1=Zkh","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"-f-Fm8?^zB9Eyh70Qj5[","fields":{"TEXT":"abc"}},"block":{"type":"blockImuGetHeading","id":"e(T7dtRbgVZPtAW`=zl9","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"X+Kh9Y[os+D)1#D=}Ie^","fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj","name":"prime hub 2","type":"PrimeHub"}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"Up5Eh^w05qSy?pqKS4`Q","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"D`-%[0y3wZ8v=}=)$_3+","fields":{"VALUE0":1}}}}}}}}}}}}}}}}}}}}},{"type":"blockImuResetHeading","id":"91|%c$QsW1_i`l;NkF[i","x":852,"y":1319,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"h`))+Nkhy$z(8x5/tYmf","fields":{"VAR":{"id":"]G~Dl^Y#k~KMY,gx:NDj","name":"prime hub 2","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"IA]xax1(2cHWKTM!iEml","fields":{"VALUE0":0}}}}},{"type":"blockVariableGetValue","id":"1I_4sDpaP@ACW.*SaAu7","x":637,"y":1293,"enabled":false,"inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"@bLlmn99!|z;LOLJ2@Uf","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}},{"type":"blockFlowWhile","id":"0*e8zJyrU~BTJ%Oa{Ju=","x":364,"y":931,"enabled":false,"fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"17N}69+^fM}M=$7nygyV"}},"DO":{"block":{"type":"blockFunctionCallerStatement","id":"TAs%Qi/1-j:Jj]+k?-|,","extraState":{"optionLevel":3},"fields":{"ICON":"TASK","VAR":{"id":"c4fY_z8T9i/x3o=8@V9Q"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"=63M?(-*P%n6gj;gNMAm","fields":{"NUM":0.2}},"block":{"type":"blockVariableGetValue","id":"}3AJI-s!Rn`nfX7J$?h#","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"AgRfgh;{7o{HwL*a|?[E","fields":{"VAR":{"id":"R|]br05zzU[gG%8qvQJN","name":"kp","type":"Any"}}}}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"[SRwSU#l]~8e59=$lXV%","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":")8m;r3Z4?2?t-[,dVa*#","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":",mEO8xyGN4k_.0.AB(|O","fields":{"VAR":{"id":"QBMTzU*#MAHPs)j8usK|","name":"ki","type":"Any"}}}}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"c,8,!xB.vNOQfA0d$Tq|","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"CT.a,^@Xp]?(WTsbJ50[","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"3srnCW$|c_`N3TV7aXjs","fields":{"VAR":{"id":"1%jKzWu(L!V+z|,j-{He","name":"kd","type":"Any"}}}}}}}},"next":{"block":{"type":"blockMultiTask","id":"4|vo4+EWgyDl79=9%FYA","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockMotorDuty","id":"29,xE]dj-;UYfu7RP:RL","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"N;#N=oOFOU(BgDpF4:d{","fields":{"VAR":{"id":"wQj:d@TaY#,Uzjq1Db}b","name":"motoresquerdo","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"R:a/N|J-hJ_3vhZMCC9{","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"96A3wU:6lo@SF3m;/S5,","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"=aBOZDa5;1S9EPIWex7Z","fields":{"NUM":80}}},"B":{"shadow":{"type":"blockMathNumber","id":"dl5ZL_LWoG#Ne]t`W$mf","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"(}xUeG}RRhA@?acxOlX`","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"uK[2^Tz5EHSco~V8tN8`","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}},"TASK1":{"block":{"type":"blockMotorDuty","id":"ZYI8}fs5:ne%c+4oP.Iq","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"4f2snVLGL2ERU;RdFlHm","fields":{"VAR":{"id":"vvKP[ml~X1R[mF@=51oQ","name":"motordireito","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"[N6,):yXBNo1AqTkAV:C","fields":{"VALUE0":50}},"block":{"type":"blockMathArithmetic","id":"*L=27m*1$]o`X^tAHZ:i","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"WFcN8jj%Va%Aj*-dX_j+","fields":{"NUM":80}}},"B":{"shadow":{"type":"blockMathNumber","id":"!:VFqmMbA2iDgbYBKu|t","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"a(8(G9TFYs-xd)3Qbn0n","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"KMSF_xW{yb-!.L5I8{Bs","fields":{"VAR":{"id":"lTg]Rwr]pRX#t17pG#DG","name":"correcao","type":"Any"}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"-ieWd,tClm]Ymdxr4VU/","type":"ColorDef"},{"name":"orange","id":"-?S%k:?-G}I7Gg*s.eai","type":"ColorDef"},{"name":"yellow","id":"NW5a%U%#~sj}d[9c4;q/","type":"ColorDef"},{"name":"green","id":"MduotLUg1Jz-X,$g/EHe","type":"ColorDef"},{"name":"cyan","id":"H=lEnKwM7ecJu#|*aw6L","type":"ColorDef"},{"name":"blue","id":"AX9_QjmKN[zW|H1mWA[e","type":"ColorDef"},{"name":"violet","id":"OYf6wtP!A()}/r=yY1:q","type":"ColorDef"},{"name":"magenta","id":"PvEY6v8,s7N9v[950dH@","type":"ColorDef"},{"name":"white","id":"p]5spn+PRZ`ZkWY][=`I","type":"ColorDef"},{"name":"none","id":"sQA[[PMY+~EsIQ!dS;vz","type":"ColorDef"},{"name":"drive base","id":"n017jGdCMJz2wk?K1SWF","type":"DriveBase"},{"name":"motoresquerdo","id":"wQj:d@TaY#,Uzjq1Db}b","type":"Motor"},{"name":"motordireito","id":"vvKP[ml~X1R[mF@=51oQ","type":"Motor"},{"name":"sensor esquerdo","id":"Cr4(q7k2=ktcm#?SyMnJ","type":"ColorSensor"},{"name":"sensor direito","id":"$s(@w9ZT#x1#,*Kz|g,l","type":"ColorSensor"},{"name":"prime hub 2","id":"]G~Dl^Y#k~KMY,gx:NDj","type":"PrimeHub"},{"name":"","id":"w^Lgdu)ET31vQpE{hUD-","type":"FunctionImported"},{"name":"erro","id":"-GnZ+U^IloC7PXUcBwhj","type":"Any"},{"name":"correcao","id":"lTg]Rwr]pRX#t17pG#DG","type":"Any"},{"name":"integral","id":"aI$_c*alnp1_pf*JqlM%","type":"Any"},{"name":"erro-final","id":"+kM2FtoU-7w0rgy?k!;K","type":"Any"},{"name":"derivada","id":"A!_inOVutis-Vj{[x3U|","type":"Any"},{"name":"kp","id":"R|]br05zzU[gG%8qvQJN","type":"Any"},{"name":"ki","id":"QBMTzU*#MAHPs)j8usK|","type":"Any"},{"name":"kd","id":"1%jKzWu(L!V+z|,j-{He","type":"Any"},{"name":"ref-giroturn","id":"}6yM4K8o/makaC,@]H39","type":"Any"},{"name":"kpp","id":"^V#pzX/wPx7]oV4f.l=]","type":"FunctionArgument"},{"name":"kii","id":"fsltF%affIs_=:67no_V","type":"FunctionArgument"},{"name":"kdd","id":"xd5|KEz8j{W9M_VBzsvS","type":"FunctionArgument"},{"name":"ref","id":"4Vjl_^=#~(u3Gg)Z%|L%","type":"FunctionArgument"},{"name":"PID","id":"c4fY_z8T9i/x3o=8@V9Q","type":"Function"},{"name":"giro turn","id":"#qlUoYH+/uElfQD(eioQ","type":"Function"},{"name":"my task","id":"b$QZsf[+Cx(0p3H,Kb(5","type":"Function"},{"name":"hub","id":";c86-@y[Qnir-N#^9,Db","type":"InventorHub"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Direction, Port
from pybricks.pupdevices import ColorSensor, Motor
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub_2 = PrimeHub()
sensor_esquerdo = ColorSensor(Port.C)
sensor_direito = ColorSensor(Port.D)
motoresquerdo = Motor(Port.A, Direction.CLOCKWISE)
motordireito = Motor(Port.B, Direction.COUNTERCLOCKWISE)

# Initialize variables.
erro = 0
correcao = 0
integral = 0
derivada = 0
erro_final = 0
kp = -3
ki = 0.001
kd = 0.01
ref_giroturn = 0

async def PID(kpp, kii, kdd):
    global integral, derivada, correcao, erro_final
    await wait(1)
    integral = integral + erro
    derivada = erro - erro_final
    correcao = erro * kp + (integral * ki + derivada * kd)
    erro_final = erro

async def giro_turn(ref):
    global erro
    await wait(1)
    prime_hub_2.imu.reset_heading(0)
    while not prime_hub_2.imu.heading() == ref:
        await wait(1)
        erro = prime_hub_2.imu.heading() - ref
        await PID(kp, ki, kd)
        motoresquerdo.dc(1 * correcao)

        motordireito.dc(-1 * correcao)
        await multitask(wait(1))
        print(prime_hub_2.imu.heading())
        await wait(1)

async def main():
    await giro_turn(90)


run_task(main())